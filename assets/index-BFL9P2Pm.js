(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function kp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gc={exports:{}},Da={};var q_;function X0(){if(q_)return Da;q_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(u,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:s,type:u,key:h,ref:o!==void 0?o:null,props:f}}return Da.Fragment=n,Da.jsx=l,Da.jsxs=l,Da}var j_;function Z0(){return j_||(j_=1,gc.exports=X0()),gc.exports}var V=Z0(),yc={exports:{}},F={};var Y_;function K0(){if(Y_)return F;Y_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function U(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,oe={};function Ee(b,z,I){this.props=b,this.context=z,this.refs=oe,this.updater=I||H}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},Ee.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function He(){}He.prototype=Ee.prototype;function G(b,z,I){this.props=b,this.context=z,this.refs=oe,this.updater=I||H}var De=G.prototype=new He;De.constructor=G,X(De,Ee.prototype),De.isPureReactComponent=!0;var xt=Array.isArray;function it(){}var ue={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function Jt(b,z,I){var j=I.ref;return{$$typeof:s,type:b,key:z,ref:j!==void 0?j:null,props:I}}function Ui(b,z){return Jt(b.type,z,b.props)}function Wt(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ot(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(I){return z[I]})}var ai=/\/+/g;function nn(b,z){return typeof b=="object"&&b!==null&&b.key!=null?ot(""+b.key):z.toString(36)}function Gt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(it,it):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function M(b,z,I,j,J){var te=typeof b;(te==="undefined"||te==="boolean")&&(b=null);var me=!1;if(b===null)me=!0;else switch(te){case"bigint":case"string":case"number":me=!0;break;case"object":switch(b.$$typeof){case s:case n:me=!0;break;case T:return me=b._init,M(me(b._payload),z,I,j,J)}}if(me)return J=J(b),me=j===""?"."+nn(b,0):j,xt(J)?(I="",me!=null&&(I=me.replace(ai,"$&/")+"/"),M(J,z,I,"",function(Ul){return Ul})):J!=null&&(Wt(J)&&(J=Ui(J,I+(J.key==null||b&&b.key===J.key?"":(""+J.key).replace(ai,"$&/")+"/")+me)),z.push(J)),1;me=0;var st=j===""?".":j+":";if(xt(b))for(var Be=0;Be<b.length;Be++)j=b[Be],te=st+nn(j,Be),me+=M(j,z,I,te,J);else if(Be=U(b),typeof Be=="function")for(b=Be.call(b),Be=0;!(j=b.next()).done;)j=j.value,te=st+nn(j,Be++),me+=M(j,z,I,te,J);else if(te==="object"){if(typeof b.then=="function")return M(Gt(b),z,I,j,J);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(b,z,I){if(b==null)return b;var j=[],J=0;return M(b,j,"","",function(te){return z.call(I,te,J++)}),j}function Z(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(I){(b._status===0||b._status===-1)&&(b._status=1,b._result=I)},function(I){(b._status===0||b._status===-1)&&(b._status=2,b._result=I)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var ge=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},be={map:B,forEach:function(b,z,I){B(b,function(){z.apply(this,arguments)},I)},count:function(b){var z=0;return B(b,function(){z++}),z},toArray:function(b){return B(b,function(z){return z})||[]},only:function(b){if(!Wt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return F.Activity=v,F.Children=be,F.Component=Ee,F.Fragment=l,F.Profiler=o,F.PureComponent=G,F.StrictMode=u,F.Suspense=g,F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,F.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ue.H.useMemoCache(b)}},F.cache=function(b){return function(){return b.apply(null,arguments)}},F.cacheSignal=function(){return null},F.cloneElement=function(b,z,I){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=X({},b.props),J=b.key;if(z!=null)for(te in z.key!==void 0&&(J=""+z.key),z)!rt.call(z,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&z.ref===void 0||(j[te]=z[te]);var te=arguments.length-2;if(te===1)j.children=I;else if(1<te){for(var me=Array(te),st=0;st<te;st++)me[st]=arguments[st+2];j.children=me}return Jt(b.type,J,j)},F.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},F.createElement=function(b,z,I){var j,J={},te=null;if(z!=null)for(j in z.key!==void 0&&(te=""+z.key),z)rt.call(z,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(J[j]=z[j]);var me=arguments.length-2;if(me===1)J.children=I;else if(1<me){for(var st=Array(me),Be=0;Be<me;Be++)st[Be]=arguments[Be+2];J.children=st}if(b&&b.defaultProps)for(j in me=b.defaultProps,me)J[j]===void 0&&(J[j]=me[j]);return Jt(b,te,J)},F.createRef=function(){return{current:null}},F.forwardRef=function(b){return{$$typeof:_,render:b}},F.isValidElement=Wt,F.lazy=function(b){return{$$typeof:T,_payload:{_status:-1,_result:b},_init:Z}},F.memo=function(b,z){return{$$typeof:p,type:b,compare:z===void 0?null:z}},F.startTransition=function(b){var z=ue.T,I={};ue.T=I;try{var j=b(),J=ue.S;J!==null&&J(I,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(it,ge)}catch(te){ge(te)}finally{z!==null&&I.types!==null&&(z.types=I.types),ue.T=z}},F.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},F.use=function(b){return ue.H.use(b)},F.useActionState=function(b,z,I){return ue.H.useActionState(b,z,I)},F.useCallback=function(b,z){return ue.H.useCallback(b,z)},F.useContext=function(b){return ue.H.useContext(b)},F.useDebugValue=function(){},F.useDeferredValue=function(b,z){return ue.H.useDeferredValue(b,z)},F.useEffect=function(b,z){return ue.H.useEffect(b,z)},F.useEffectEvent=function(b){return ue.H.useEffectEvent(b)},F.useId=function(){return ue.H.useId()},F.useImperativeHandle=function(b,z,I){return ue.H.useImperativeHandle(b,z,I)},F.useInsertionEffect=function(b,z){return ue.H.useInsertionEffect(b,z)},F.useLayoutEffect=function(b,z){return ue.H.useLayoutEffect(b,z)},F.useMemo=function(b,z){return ue.H.useMemo(b,z)},F.useOptimistic=function(b,z){return ue.H.useOptimistic(b,z)},F.useReducer=function(b,z,I){return ue.H.useReducer(b,z,I)},F.useRef=function(b){return ue.H.useRef(b)},F.useState=function(b){return ue.H.useState(b)},F.useSyncExternalStore=function(b,z,I){return ue.H.useSyncExternalStore(b,z,I)},F.useTransition=function(){return ue.H.useTransition()},F.version="19.2.0",F}var G_;function Pc(){return G_||(G_=1,yc.exports=K0()),yc.exports}var Ue=Pc();const F0=kp(Ue);var vc={exports:{}},Ra={},Sc={exports:{}},Ec={};var k_;function J0(){return k_||(k_=1,(function(s){function n(M,B){var Z=M.length;M.push(B);e:for(;0<Z;){var ge=Z-1>>>1,be=M[ge];if(0<o(be,B))M[ge]=B,M[Z]=be,Z=ge;else break e}}function l(M){return M.length===0?null:M[0]}function u(M){if(M.length===0)return null;var B=M[0],Z=M.pop();if(Z!==B){M[0]=Z;e:for(var ge=0,be=M.length,b=be>>>1;ge<b;){var z=2*(ge+1)-1,I=M[z],j=z+1,J=M[j];if(0>o(I,Z))j<be&&0>o(J,I)?(M[ge]=J,M[j]=Z,ge=j):(M[ge]=I,M[z]=Z,ge=z);else if(j<be&&0>o(J,Z))M[ge]=J,M[j]=Z,ge=j;else break e}}return B}function o(M,B){var Z=M.sortIndex-B.sortIndex;return Z!==0?Z:M.id-B.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();s.unstable_now=function(){return h.now()-_}}var g=[],p=[],T=1,v=null,E=3,U=!1,H=!1,X=!1,oe=!1,Ee=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function De(M){for(var B=l(p);B!==null;){if(B.callback===null)u(p);else if(B.startTime<=M)u(p),B.sortIndex=B.expirationTime,n(g,B);else break;B=l(p)}}function xt(M){if(X=!1,De(M),!H)if(l(g)!==null)H=!0,it||(it=!0,ot());else{var B=l(p);B!==null&&Gt(xt,B.startTime-M)}}var it=!1,ue=-1,rt=5,Jt=-1;function Ui(){return oe?!0:!(s.unstable_now()-Jt<rt)}function Wt(){if(oe=!1,it){var M=s.unstable_now();Jt=M;var B=!0;try{e:{H=!1,X&&(X=!1,He(ue),ue=-1),U=!0;var Z=E;try{t:{for(De(M),v=l(g);v!==null&&!(v.expirationTime>M&&Ui());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,E=v.priorityLevel;var be=ge(v.expirationTime<=M);if(M=s.unstable_now(),typeof be=="function"){v.callback=be,De(M),B=!0;break t}v===l(g)&&u(g),De(M)}else u(g);v=l(g)}if(v!==null)B=!0;else{var b=l(p);b!==null&&Gt(xt,b.startTime-M),B=!1}}break e}finally{v=null,E=Z,U=!1}B=void 0}}finally{B?ot():it=!1}}}var ot;if(typeof G=="function")ot=function(){G(Wt)};else if(typeof MessageChannel<"u"){var ai=new MessageChannel,nn=ai.port2;ai.port1.onmessage=Wt,ot=function(){nn.postMessage(null)}}else ot=function(){Ee(Wt,0)};function Gt(M,B){ue=Ee(function(){M(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(M){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var Z=E;E=B;try{return M()}finally{E=Z}},s.unstable_requestPaint=function(){oe=!0},s.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=E;E=M;try{return B()}finally{E=Z}},s.unstable_scheduleCallback=function(M,B,Z){var ge=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,M){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Z+be,M={id:T++,callback:B,priorityLevel:M,startTime:Z,expirationTime:be,sortIndex:-1},Z>ge?(M.sortIndex=Z,n(p,M),l(g)===null&&M===l(p)&&(X?(He(ue),ue=-1):X=!0,Gt(xt,Z-ge))):(M.sortIndex=be,n(g,M),H||U||(H=!0,it||(it=!0,ot()))),M},s.unstable_shouldYield=Ui,s.unstable_wrapCallback=function(M){var B=E;return function(){var Z=E;E=B;try{return M.apply(this,arguments)}finally{E=Z}}}})(Ec)),Ec}var V_;function W0(){return V_||(V_=1,Sc.exports=J0()),Sc.exports}var bc={exports:{}},lt={};var Q_;function $0(){if(Q_)return lt;Q_=1;var s=Pc();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,T){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,lt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,T)},lt.flushSync=function(g){var p=h.T,T=u.p;try{if(h.T=null,u.p=2,g)return g()}finally{h.T=p,u.p=T,u.d.f()}},lt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,u.d.C(g,p))},lt.prefetchDNS=function(g){typeof g=="string"&&u.d.D(g)},lt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,v=_(T,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?u.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:U}):T==="script"&&u.d.X(g,{crossOrigin:v,integrity:E,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},lt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=_(p.as,p.crossOrigin);u.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&u.d.M(g)},lt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,v=_(T,p.crossOrigin);u.d.L(g,T,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},lt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=_(p.as,p.crossOrigin);u.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else u.d.m(g)},lt.requestFormReset=function(g){u.d.r(g)},lt.unstable_batchedUpdates=function(g,p){return g(p)},lt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},lt.useFormStatus=function(){return h.H.useHostTransitionStatus()},lt.version="19.2.0",lt}var X_;function P0(){if(X_)return bc.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),bc.exports=$0(),bc.exports}var Z_;function e1(){if(Z_)return Ra;Z_=1;var s=W0(),n=Pc(),l=P0();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(u(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(u(188));return t!==e?null:e}for(var i=e,a=t;;){var r=i.return;if(r===null)break;var c=r.alternate;if(c===null){if(a=r.return,a!==null){i=a;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===i)return g(r),e;if(c===a)return g(r),t;c=c.sibling}throw Error(u(188))}if(i.return!==a.return)i=r,a=c;else{for(var d=!1,m=r.child;m;){if(m===i){d=!0,i=r,a=c;break}if(m===a){d=!0,a=r,i=c;break}m=m.sibling}if(!d){for(m=c.child;m;){if(m===i){d=!0,i=c,a=r;break}if(m===a){d=!0,a=c,i=r;break}m=m.sibling}if(!d)throw Error(u(189))}}if(i.alternate!==a)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),He=Symbol.for("react.consumer"),G=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Jt=Symbol.for("react.activity"),Ui=Symbol.for("react.memo_cache_sentinel"),Wt=Symbol.iterator;function ot(e){return e===null||typeof e!="object"?null:(e=Wt&&e[Wt]||e["@@iterator"],typeof e=="function"?e:null)}var ai=Symbol.for("react.client.reference");function nn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ai?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Ee:return"Profiler";case oe:return"StrictMode";case xt:return"Suspense";case it:return"SuspenseList";case Jt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case G:return e.displayName||"Context";case He:return(e._context.displayName||"Context")+".Consumer";case De:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:nn(e.type)||"Memo";case rt:t=e._payload,e=e._init;try{return nn(e(t))}catch{}}return null}var Gt=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ge=[],be=-1;function b(e){return{current:e}}function z(e){0>be||(e.current=ge[be],ge[be]=null,be--)}function I(e,t){be++,ge[be]=e.current,e.current=t}var j=b(null),J=b(null),te=b(null),me=b(null);function st(e,t){switch(I(te,t),I(J,e),I(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=r_(t),e=o_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(j),I(j,e)}function Be(){z(j),z(J),z(te)}function Ul(e){e.memoizedState!==null&&I(me,e);var t=j.current,i=o_(t,e.type);t!==i&&(I(J,e),I(j,i))}function ts(e){J.current===e&&(z(j),z(J)),me.current===e&&(z(me),Ca._currentValue=Z)}var $u,If;function si(e){if($u===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||"",If=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+e+If}var Pu=!1;function er(e,t){if(!e||Pu)return"";Pu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(R){var D=R}Reflect.construct(e,[],w)}else{try{w.call()}catch(R){D=R}e.call(w.prototype)}}else{try{throw Error()}catch(R){D=R}(w=e())&&typeof w.catch=="function"&&w.catch(function(){})}}catch(R){if(R&&D&&typeof R.stack=="string")return[R.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],m=c[1];if(d&&m){var y=d.split(`
`),N=m.split(`
`);for(r=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;if(a===y.length||r===N.length)for(a=y.length-1,r=N.length-1;1<=a&&0<=r&&y[a]!==N[r];)r--;for(;1<=a&&0<=r;a--,r--)if(y[a]!==N[r]){if(a!==1||r!==1)do if(a--,r--,0>r||y[a]!==N[r]){var O=`
`+y[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=r);break}}}finally{Pu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?si(i):""}function Cy(e,t){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==t&&t!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return si("Activity");default:return""}}function qf(e){try{var t="",i=null;do t+=Cy(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var tr=Object.prototype.hasOwnProperty,nr=s.unstable_scheduleCallback,ir=s.unstable_cancelCallback,Ty=s.unstable_shouldYield,Ay=s.unstable_requestPaint,Et=s.unstable_now,Ny=s.unstable_getCurrentPriorityLevel,jf=s.unstable_ImmediatePriority,Yf=s.unstable_UserBlockingPriority,ns=s.unstable_NormalPriority,Dy=s.unstable_LowPriority,Gf=s.unstable_IdlePriority,Ry=s.log,Oy=s.unstable_setDisableYieldValue,Ll=null,bt=null;function Rn(e){if(typeof Ry=="function"&&Oy(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ll,e)}catch{}}var Ct=Math.clz32?Math.clz32:wy,My=Math.log,xy=Math.LN2;function wy(e){return e>>>=0,e===0?32:31-(My(e)/xy|0)|0}var is=256,ls=262144,as=4194304;function ui(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ss(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var r=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~c,a!==0?r=ui(a):(d&=m,d!==0?r=ui(d):i||(i=m&~e,i!==0&&(r=ui(i))))):(m=a&~c,m!==0?r=ui(m):d!==0?r=ui(d):i||(i=a&~e,i!==0&&(r=ui(i)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:r}function Hl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kf(){var e=as;return as<<=1,(as&62914560)===0&&(as=4194304),e}function lr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uy(e,t,i,a,r,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var m=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-Ct(i),w=1<<O;m[O]=0,y[O]=-1;var D=N[O];if(D!==null)for(N[O]=null,O=0;O<D.length;O++){var R=D[O];R!==null&&(R.lane&=-536870913)}i&=~w}a!==0&&Vf(e,a,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Vf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ct(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function Qf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Ct(i),r=1<<a;r&t|e[a]&t&&(e[a]|=t),i&=~r}}function Xf(e,t){var i=t&-t;return i=(i&42)!==0?1:ar(i),(i&(e.suspendedLanes|t))!==0?0:i}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zf(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Kf(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var On=Math.random().toString(36).slice(2),We="__reactFiber$"+On,ct="__reactProps$"+On,Li="__reactContainer$"+On,ur="__reactEvents$"+On,Ly="__reactListeners$"+On,Hy="__reactHandles$"+On,Ff="__reactResources$"+On,Il="__reactMarker$"+On;function rr(e){delete e[We],delete e[ct],delete e[ur],delete e[Ly],delete e[Hy]}function Hi(e){var t=e[We];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Li]||i[We]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=p_(e);e!==null;){if(i=e[We])return i;e=p_(e)}return t}e=i,i=e.parentNode}return null}function Bi(e){if(e=e[We]||e[Li]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Ii(e){var t=e[Ff];return t||(t=e[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Il]=!0}var Jf=new Set,Wf={};function ri(e,t){qi(e,t),qi(e+"Capture",t)}function qi(e,t){for(Wf[e]=t,e=0;e<t.length;e++)Jf.add(t[e])}var By=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},Pf={};function Iy(e){return tr.call(Pf,e)?!0:tr.call($f,e)?!1:By.test(e)?Pf[e]=!0:($f[e]=!0,!1)}function us(e,t,i){if(Iy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function rs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ln(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qy(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function or(e){if(!e._valueTracker){var t=eh(e)?"checked":"value";e._valueTracker=qy(e,t,""+e[t])}}function th(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=eh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jy=/[\n"\\]/g;function zt(e){return e.replace(jy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cr(e,t,i,a,r,c,d,m){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?fr(e,d,wt(t)):i!=null?fr(e,d,wt(i)):a!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+wt(m):e.removeAttribute("name")}function nh(e,t,i,a,r,c,d,m){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){or(e);return}i=i!=null?""+wt(i):"",t=t!=null?""+wt(t):i,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),or(e)}function fr(e,t,i){t==="number"&&os(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ji(e,t,i,a){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&a&&(e[i].defaultSelected=!0)}else{for(i=""+wt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ih(e,t,i){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+wt(i):""}function lh(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(u(92));if(Gt(a)){if(1<a.length)throw Error(u(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=wt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),or(e)}function Yi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Yy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function sh(e,t,i){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&i[r]!==a&&ah(e,r,a)}else for(var c in t)t.hasOwnProperty(c)&&ah(e,c,t[c])}function hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(e){return ky.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var dr=null;function mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,ki=null;function uh(e){var t=Bi(e);if(t&&(e=t.stateNode)){var i=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(cr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var r=a[ct]||null;if(!r)throw Error(u(90));cr(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&th(a)}break e;case"textarea":ih(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ji(e,!!i.multiple,t,!1)}}}var _r=!1;function rh(e,t,i){if(_r)return e(t,i);_r=!0;try{var a=e(t);return a}finally{if(_r=!1,(Gi!==null||ki!==null)&&(Ws(),Gi&&(t=Gi,e=ki,ki=Gi=null,uh(t),e)))for(t=0;t<e.length;t++)uh(e[t])}}function jl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[ct]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(u(231,t,typeof i));return i}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(sn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{pr=!1}var Mn=null,gr=null,fs=null;function oh(){if(fs)return fs;var e,t=gr,i=t.length,a,r="value"in Mn?Mn.value:Mn.textContent,c=r.length;for(e=0;e<i&&t[e]===r[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===r[c-a];a++);return fs=r.slice(e,1<a?1-a:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function ch(){return!1}function ft(e){function t(i,a,r,c,d){this._reactName=i,this._targetInst=r,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ds:ch,this.isPropagationStopped=ch,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=ft(oi),Gl=v({},oi,{view:0,detail:0}),Vy=ft(Gl),yr,vr,kl,_s=v({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(yr=e.screenX-kl.screenX,vr=e.screenY-kl.screenY):vr=yr=0,kl=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:vr}}),fh=ft(_s),Qy=v({},_s,{dataTransfer:0}),Xy=ft(Qy),Zy=v({},Gl,{relatedTarget:0}),Sr=ft(Zy),Ky=v({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=ft(Ky),Jy=v({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=ft(Jy),$y=v({},oi,{data:0}),hh=ft($y),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tv[e])?!!t[e]:!1}function Er(){return nv}var iv=v({},Gl,{key:function(e){if(e.key){var t=Py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=ft(iv),av=v({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=ft(av),sv=v({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),uv=ft(sv),rv=v({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ov=ft(rv),cv=v({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=ft(cv),hv=v({},oi,{newState:0,oldState:0}),dv=ft(hv),mv=[9,13,27,32],br=sn&&"CompositionEvent"in window,Vl=null;sn&&"documentMode"in document&&(Vl=document.documentMode);var _v=sn&&"TextEvent"in window&&!Vl,mh=sn&&(!br||Vl&&8<Vl&&11>=Vl),_h=" ",ph=!1;function gh(e,t){switch(e){case"keyup":return mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function pv(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(ph=!0,_h);case"textInput":return e=t.data,e===_h&&ph?null:e;default:return null}}function gv(e,t){if(Vi)return e==="compositionend"||!br&&gh(e,t)?(e=oh(),fs=gr=Mn=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mh&&t.locale!=="ko"?null:t.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yv[e.type]:t==="textarea"}function Sh(e,t,i,a){Gi?ki?ki.push(a):ki=[a]:Gi=a,t=lu(t,"onChange"),0<t.length&&(i=new ms("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Ql=null,Xl=null;function vv(e){n_(e,0)}function ps(e){var t=ql(e);if(th(t))return e}function Eh(e,t){if(e==="change")return t}var bh=!1;if(sn){var Cr;if(sn){var Tr="oninput"in document;if(!Tr){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),Tr=typeof Ch.oninput=="function"}Cr=Tr}else Cr=!1;bh=Cr&&(!document.documentMode||9<document.documentMode)}function Th(){Ql&&(Ql.detachEvent("onpropertychange",Ah),Xl=Ql=null)}function Ah(e){if(e.propertyName==="value"&&ps(Xl)){var t=[];Sh(t,Xl,e,mr(e)),rh(vv,t)}}function Sv(e,t,i){e==="focusin"?(Th(),Ql=t,Xl=i,Ql.attachEvent("onpropertychange",Ah)):e==="focusout"&&Th()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ps(Xl)}function bv(e,t){if(e==="click")return ps(t)}function Cv(e,t){if(e==="input"||e==="change")return ps(t)}function Tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Tv;function Zl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var r=i[a];if(!tr.call(t,r)||!Tt(e[r],t[r]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dh(e,t){var i=Nh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nh(i)}}function Rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=os(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=os(e.document)}return t}function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Av=sn&&"documentMode"in document&&11>=document.documentMode,Qi=null,Nr=null,Kl=null,Dr=!1;function Mh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Dr||Qi==null||Qi!==os(a)||(a=Qi,"selectionStart"in a&&Ar(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kl&&Zl(Kl,a)||(Kl=a,a=lu(Nr,"onSelect"),0<a.length&&(t=new ms("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Qi)))}function ci(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Xi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Rr={},xh={};sn&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function fi(e){if(Rr[e])return Rr[e];if(!Xi[e])return e;var t=Xi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in xh)return Rr[e]=t[i];return e}var wh=fi("animationend"),zh=fi("animationiteration"),Uh=fi("animationstart"),Nv=fi("transitionrun"),Dv=fi("transitionstart"),Rv=fi("transitioncancel"),Lh=fi("transitionend"),Hh=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function kt(e,t){Hh.set(e,t),ri(t,[e])}var gs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Zi=0,Mr=0;function ys(){for(var e=Zi,t=Mr=Zi=0;t<e;){var i=Ut[t];Ut[t++]=null;var a=Ut[t];Ut[t++]=null;var r=Ut[t];Ut[t++]=null;var c=Ut[t];if(Ut[t++]=null,a!==null&&r!==null){var d=a.pending;d===null?r.next=r:(r.next=d.next,d.next=r),a.pending=r}c!==0&&Bh(i,r,c)}}function vs(e,t,i,a){Ut[Zi++]=e,Ut[Zi++]=t,Ut[Zi++]=i,Ut[Zi++]=a,Mr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function xr(e,t,i,a){return vs(e,t,i,a),Ss(e)}function hi(e,t){return vs(e,null,null,t),Ss(e)}function Bh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var r=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-Ct(i),e=c.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=i|536870912),c):null}function Ss(e){if(50<pa)throw pa=0,Yo=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ki={};function Ov(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,a){return new Ov(e,t,i,a)}function wr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ih(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Es(e,t,i,a,r,c){var d=0;if(a=e,typeof e=="function")wr(e)&&(d=1);else if(typeof e=="string")d=U0(e,i,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Jt:return e=At(31,i,t,r),e.elementType=Jt,e.lanes=c,e;case X:return di(i.children,r,c,t);case oe:d=8,r|=24;break;case Ee:return e=At(12,i,t,r|2),e.elementType=Ee,e.lanes=c,e;case xt:return e=At(13,i,t,r),e.elementType=xt,e.lanes=c,e;case it:return e=At(19,i,t,r),e.elementType=it,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:d=10;break e;case He:d=9;break e;case De:d=11;break e;case ue:d=14;break e;case rt:d=16,a=null;break e}d=29,i=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=At(d,i,t,r),t.elementType=e,t.type=a,t.lanes=c,t}function di(e,t,i,a){return e=At(7,e,a,t),e.lanes=i,e}function zr(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function qh(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Ur(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jh=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var i=jh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:qf(t)},jh.set(e,t),t)}return{value:e,source:t,stack:qf(t)}}var Fi=[],Ji=0,bs=null,Fl=0,Ht=[],Bt=0,xn=null,$t=1,Pt="";function rn(e,t){Fi[Ji++]=Fl,Fi[Ji++]=bs,bs=e,Fl=t}function Yh(e,t,i){Ht[Bt++]=$t,Ht[Bt++]=Pt,Ht[Bt++]=xn,xn=e;var a=$t;e=Pt;var r=32-Ct(a)-1;a&=~(1<<r),i+=1;var c=32-Ct(t)+r;if(30<c){var d=r-r%5;c=(a&(1<<d)-1).toString(32),a>>=d,r-=d,$t=1<<32-Ct(t)+r|i<<r|a,Pt=c+e}else $t=1<<c|i<<r|a,Pt=e}function Lr(e){e.return!==null&&(rn(e,1),Yh(e,1,0))}function Hr(e){for(;e===bs;)bs=Fi[--Ji],Fi[Ji]=null,Fl=Fi[--Ji],Fi[Ji]=null;for(;e===xn;)xn=Ht[--Bt],Ht[Bt]=null,Pt=Ht[--Bt],Ht[Bt]=null,$t=Ht[--Bt],Ht[Bt]=null}function Gh(e,t){Ht[Bt++]=$t,Ht[Bt++]=Pt,Ht[Bt++]=xn,$t=t.id,Pt=t.overflow,xn=e}var $e=null,Re=null,re=!1,wn=null,It=!1,Br=Error(u(519));function zn(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Lt(t,e)),Br}function kh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[We]=e,t[ct]=a,i){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(i=0;i<ya.length;i++)ie(ya[i],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),nh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),lh(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||s_(t.textContent,i)?(a.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),a.onScroll!=null&&ie("scroll",t),a.onScrollEnd!=null&&ie("scrollend",t),a.onClick!=null&&(t.onclick=an),t=!0):t=!1,t||zn(e,!0)}function Vh(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:$e=$e.return}}function Wi(e){if(e!==$e)return!1;if(!re)return Vh(e),re=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||nc(e.type,e.memoizedProps)),i=!i),i&&Re&&zn(e),Vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Re=__(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Re=__(e)}else t===27?(t=Re,Zn(e.type)?(e=uc,uc=null,Re=e):Re=t):Re=$e?jt(e.stateNode.nextSibling):null;return!0}function mi(){Re=$e=null,re=!1}function Ir(){var e=wn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),wn=null),e}function Jl(e){wn===null?wn=[e]:wn.push(e)}var qr=b(null),_i=null,on=null;function Un(e,t,i){I(qr,t._currentValue),t._currentValue=i}function cn(e){e._currentValue=qr.current,z(qr)}function jr(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Yr(e,t,i,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var d=r.child;c=c.firstContext;e:for(;c!==null;){var m=c;c=r;for(var y=0;y<t.length;y++)if(m.context===t[y]){c.lanes|=i,m=c.alternate,m!==null&&(m.lanes|=i),jr(c.return,i,e),a||(d=null);break e}c=m.next}}else if(r.tag===18){if(d=r.return,d===null)throw Error(u(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),jr(d,i,e),d=null}else d=r.child;if(d!==null)d.return=r;else for(d=r;d!==null;){if(d===e){d=null;break}if(r=d.sibling,r!==null){r.return=d.return,d=r;break}d=d.return}r=d}}function $i(e,t,i,a){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var d=r.alternate;if(d===null)throw Error(u(387));if(d=d.memoizedProps,d!==null){var m=r.type;Tt(r.pendingProps.value,d.value)||(e!==null?e.push(m):e=[m])}}else if(r===me.current){if(d=r.alternate,d===null)throw Error(u(387));d.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ca):e=[Ca])}r=r.return}e!==null&&Yr(t,e,i,a),t.flags|=262144}function Cs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pi(e){_i=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Qh(_i,e)}function Ts(e,t){return _i===null&&pi(e),Qh(e,t)}function Qh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},on===null){if(e===null)throw Error(u(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return i}var Mv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},xv=s.unstable_scheduleCallback,wv=s.unstable_NormalPriority,je={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gr(){return{controller:new Mv,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&xv(wv,function(){e.controller.abort()})}var $l=null,kr=0,Pi=0,el=null;function zv(e,t){if($l===null){var i=$l=[];kr=0,Pi=Zo(),el={status:"pending",value:void 0,then:function(a){i.push(a)}}}return kr++,t.then(Xh,Xh),t}function Xh(){if(--kr===0&&$l!==null){el!==null&&(el.status="fulfilled");var e=$l;$l=null,Pi=0,el=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),a}var Zh=M.S;M.S=function(e,t){Mm=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zv(e,t),Zh!==null&&Zh(e,t)};var gi=b(null);function Vr(){var e=gi.current;return e!==null?e:Ce.pooledCache}function As(e,t){t===null?I(gi,gi.current):I(gi,t.pool)}function Kh(){var e=Vr();return e===null?null:{parent:je._currentValue,pool:e}}var tl=Error(u(460)),Qr=Error(u(474)),Ns=Error(u(542)),Ds={then:function(){}};function Fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(an,an),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$h(e),e;default:if(typeof t.status=="string")t.then(an,an);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$h(e),e}throw vi=t,tl}}function yi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(vi=i,tl):i}}var vi=null;function Wh(){if(vi===null)throw Error(u(459));var e=vi;return vi=null,e}function $h(e){if(e===tl||e===Ns)throw Error(u(483))}var nl=null,Pl=0;function Rs(e){var t=Pl;return Pl+=1,nl===null&&(nl=[]),Jh(nl,e,t)}function ea(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Os(e,t){throw t.$$typeof===E?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ph(e){function t(C,S){if(e){var A=C.deletions;A===null?(C.deletions=[S],C.flags|=16):A.push(S)}}function i(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function a(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function r(C,S){return C=un(C,S),C.index=0,C.sibling=null,C}function c(C,S,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<S?(C.flags|=67108866,S):A):(C.flags|=67108866,S)):(C.flags|=1048576,S)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function m(C,S,A,x){return S===null||S.tag!==6?(S=zr(A,C.mode,x),S.return=C,S):(S=r(S,A),S.return=C,S)}function y(C,S,A,x){var k=A.type;return k===X?O(C,S,A.props.children,x,A.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rt&&yi(k)===S.type)?(S=r(S,A.props),ea(S,A),S.return=C,S):(S=Es(A.type,A.key,A.props,null,C.mode,x),ea(S,A),S.return=C,S)}function N(C,S,A,x){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Ur(A,C.mode,x),S.return=C,S):(S=r(S,A.children||[]),S.return=C,S)}function O(C,S,A,x,k){return S===null||S.tag!==7?(S=di(A,C.mode,x,k),S.return=C,S):(S=r(S,A),S.return=C,S)}function w(C,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=zr(""+S,C.mode,A),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case U:return A=Es(S.type,S.key,S.props,null,C.mode,A),ea(A,S),A.return=C,A;case H:return S=Ur(S,C.mode,A),S.return=C,S;case rt:return S=yi(S),w(C,S,A)}if(Gt(S)||ot(S))return S=di(S,C.mode,A,null),S.return=C,S;if(typeof S.then=="function")return w(C,Rs(S),A);if(S.$$typeof===G)return w(C,Ts(C,S),A);Os(C,S)}return null}function D(C,S,A,x){var k=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return k!==null?null:m(C,S,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===k?y(C,S,A,x):null;case H:return A.key===k?N(C,S,A,x):null;case rt:return A=yi(A),D(C,S,A,x)}if(Gt(A)||ot(A))return k!==null?null:O(C,S,A,x,null);if(typeof A.then=="function")return D(C,S,Rs(A),x);if(A.$$typeof===G)return D(C,S,Ts(C,A),x);Os(C,A)}return null}function R(C,S,A,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C=C.get(A)||null,m(S,C,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case U:return C=C.get(x.key===null?A:x.key)||null,y(S,C,x,k);case H:return C=C.get(x.key===null?A:x.key)||null,N(S,C,x,k);case rt:return x=yi(x),R(C,S,A,x,k)}if(Gt(x)||ot(x))return C=C.get(A)||null,O(S,C,x,k,null);if(typeof x.then=="function")return R(C,S,A,Rs(x),k);if(x.$$typeof===G)return R(C,S,A,Ts(S,x),k);Os(S,x)}return null}function q(C,S,A,x){for(var k=null,ce=null,Y=S,$=S=0,se=null;Y!==null&&$<A.length;$++){Y.index>$?(se=Y,Y=null):se=Y.sibling;var fe=D(C,Y,A[$],x);if(fe===null){Y===null&&(Y=se);break}e&&Y&&fe.alternate===null&&t(C,Y),S=c(fe,S,$),ce===null?k=fe:ce.sibling=fe,ce=fe,Y=se}if($===A.length)return i(C,Y),re&&rn(C,$),k;if(Y===null){for(;$<A.length;$++)Y=w(C,A[$],x),Y!==null&&(S=c(Y,S,$),ce===null?k=Y:ce.sibling=Y,ce=Y);return re&&rn(C,$),k}for(Y=a(Y);$<A.length;$++)se=R(Y,C,$,A[$],x),se!==null&&(e&&se.alternate!==null&&Y.delete(se.key===null?$:se.key),S=c(se,S,$),ce===null?k=se:ce.sibling=se,ce=se);return e&&Y.forEach(function($n){return t(C,$n)}),re&&rn(C,$),k}function Q(C,S,A,x){if(A==null)throw Error(u(151));for(var k=null,ce=null,Y=S,$=S=0,se=null,fe=A.next();Y!==null&&!fe.done;$++,fe=A.next()){Y.index>$?(se=Y,Y=null):se=Y.sibling;var $n=D(C,Y,fe.value,x);if($n===null){Y===null&&(Y=se);break}e&&Y&&$n.alternate===null&&t(C,Y),S=c($n,S,$),ce===null?k=$n:ce.sibling=$n,ce=$n,Y=se}if(fe.done)return i(C,Y),re&&rn(C,$),k;if(Y===null){for(;!fe.done;$++,fe=A.next())fe=w(C,fe.value,x),fe!==null&&(S=c(fe,S,$),ce===null?k=fe:ce.sibling=fe,ce=fe);return re&&rn(C,$),k}for(Y=a(Y);!fe.done;$++,fe=A.next())fe=R(Y,C,$,fe.value,x),fe!==null&&(e&&fe.alternate!==null&&Y.delete(fe.key===null?$:fe.key),S=c(fe,S,$),ce===null?k=fe:ce.sibling=fe,ce=fe);return e&&Y.forEach(function(Q0){return t(C,Q0)}),re&&rn(C,$),k}function Se(C,S,A,x){if(typeof A=="object"&&A!==null&&A.type===X&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var k=A.key;S!==null;){if(S.key===k){if(k=A.type,k===X){if(S.tag===7){i(C,S.sibling),x=r(S,A.props.children),x.return=C,C=x;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rt&&yi(k)===S.type){i(C,S.sibling),x=r(S,A.props),ea(x,A),x.return=C,C=x;break e}i(C,S);break}else t(C,S);S=S.sibling}A.type===X?(x=di(A.props.children,C.mode,x,A.key),x.return=C,C=x):(x=Es(A.type,A.key,A.props,null,C.mode,x),ea(x,A),x.return=C,C=x)}return d(C);case H:e:{for(k=A.key;S!==null;){if(S.key===k)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){i(C,S.sibling),x=r(S,A.children||[]),x.return=C,C=x;break e}else{i(C,S);break}else t(C,S);S=S.sibling}x=Ur(A,C.mode,x),x.return=C,C=x}return d(C);case rt:return A=yi(A),Se(C,S,A,x)}if(Gt(A))return q(C,S,A,x);if(ot(A)){if(k=ot(A),typeof k!="function")throw Error(u(150));return A=k.call(A),Q(C,S,A,x)}if(typeof A.then=="function")return Se(C,S,Rs(A),x);if(A.$$typeof===G)return Se(C,S,Ts(C,A),x);Os(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(i(C,S.sibling),x=r(S,A),x.return=C,C=x):(i(C,S),x=zr(A,C.mode,x),x.return=C,C=x),d(C)):i(C,S)}return function(C,S,A,x){try{Pl=0;var k=Se(C,S,A,x);return nl=null,k}catch(Y){if(Y===tl||Y===Ns)throw Y;var ce=At(29,Y,null,C.mode);return ce.lanes=x,ce.return=C,ce}finally{}}}var Si=Ph(!0),ed=Ph(!1),Ln=!1;function Xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(he&2)!==0){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ss(e),Bh(e,null,i),t}return vs(e,a,t,i),Ss(e)}function ta(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Qf(e,i)}}function Kr(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var r=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?r=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?r=c=t:c=c.next=t}else r=c=t;i={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Fr=!1;function na(){if(Fr){var e=el;if(e!==null)throw e}}function ia(e,t,i,a){Fr=!1;var r=e.updateQueue;Ln=!1;var c=r.firstBaseUpdate,d=r.lastBaseUpdate,m=r.shared.pending;if(m!==null){r.shared.pending=null;var y=m,N=y.next;y.next=null,d===null?c=N:d.next=N,d=y;var O=e.alternate;O!==null&&(O=O.updateQueue,m=O.lastBaseUpdate,m!==d&&(m===null?O.firstBaseUpdate=N:m.next=N,O.lastBaseUpdate=y))}if(c!==null){var w=r.baseState;d=0,O=N=y=null,m=c;do{var D=m.lane&-536870913,R=D!==m.lane;if(R?(ae&D)===D:(a&D)===D){D!==0&&D===Pi&&(Fr=!0),O!==null&&(O=O.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var q=e,Q=m;D=t;var Se=i;switch(Q.tag){case 1:if(q=Q.payload,typeof q=="function"){w=q.call(Se,w,D);break e}w=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Q.payload,D=typeof q=="function"?q.call(Se,w,D):q,D==null)break e;w=v({},w,D);break e;case 2:Ln=!0}}D=m.callback,D!==null&&(e.flags|=64,R&&(e.flags|=8192),R=r.callbacks,R===null?r.callbacks=[D]:R.push(D))}else R={lane:D,tag:m.tag,payload:m.payload,callback:m.callback,next:null},O===null?(N=O=R,y=w):O=O.next=R,d|=D;if(m=m.next,m===null){if(m=r.shared.pending,m===null)break;R=m,m=R.next,R.next=null,r.lastBaseUpdate=R,r.shared.pending=null}}while(!0);O===null&&(y=w),r.baseState=y,r.firstBaseUpdate=N,r.lastBaseUpdate=O,c===null&&(r.shared.lanes=0),Gn|=d,e.lanes=d,e.memoizedState=w}}function td(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function nd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)td(i[e],t)}var il=b(null),Ms=b(0);function id(e,t){e=vn,I(Ms,e),I(il,t),vn=e|t.baseLanes}function Jr(){I(Ms,vn),I(il,il.current)}function Wr(){vn=Ms.current,z(il),z(Ms)}var Nt=b(null),qt=null;function In(e){var t=e.alternate;I(Ie,Ie.current&1),I(Nt,e),qt===null&&(t===null||il.current!==null||t.memoizedState!==null)&&(qt=e)}function $r(e){I(Ie,Ie.current),I(Nt,e),qt===null&&(qt=e)}function ld(e){e.tag===22?(I(Ie,Ie.current),I(Nt,e),qt===null&&(qt=e)):qn()}function qn(){I(Ie,Ie.current),I(Nt,Nt.current)}function Dt(e){z(Nt),qt===e&&(qt=null),z(Ie)}var Ie=b(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ac(i)||sc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fn=0,W=null,ye=null,Ye=null,ws=!1,ll=!1,Ei=!1,zs=0,la=0,al=null,Lv=0;function we(){throw Error(u(321))}function Pr(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Tt(e[i],t[i]))return!1;return!0}function eo(e,t,i,a,r,c){return fn=c,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Yd:po,Ei=!1,c=i(a,r),Ei=!1,ll&&(c=sd(t,i,a,r)),ad(e),c}function ad(e){M.H=ua;var t=ye!==null&&ye.next!==null;if(fn=0,Ye=ye=W=null,ws=!1,la=0,al=null,t)throw Error(u(300));e===null||Ge||(e=e.dependencies,e!==null&&Cs(e)&&(Ge=!0))}function sd(e,t,i,a){W=e;var r=0;do{if(ll&&(al=null),la=0,ll=!1,25<=r)throw Error(u(301));if(r+=1,Ye=ye=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=Gd,c=t(i,a)}while(ll);return c}function Hv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?aa(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(W.flags|=1024),t}function to(){var e=zs!==0;return zs=0,e}function no(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function io(e){if(ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ws=!1}fn=0,Ye=ye=W=null,ll=!1,la=zs=0,al=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?W.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function qe(){if(ye===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Ye===null?W.memoizedState:Ye.next;if(t!==null)Ye=t,ye=e;else{if(e===null)throw W.alternate===null?Error(u(467)):Error(u(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ye===null?W.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Us(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(e){var t=la;return la+=1,al===null&&(al=[]),e=Jh(al,e,t),t=W,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Yd:po),e}function Ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return aa(e);if(e.$$typeof===G)return Pe(e)}throw Error(u(438,String(e)))}function lo(e){var t=null,i=W.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=W.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Us(),W.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=Ui;return t.index++,i}function hn(e,t){return typeof t=="function"?t(e):t}function Hs(e){var t=qe();return ao(t,ye,e)}function ao(e,t,i){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=i;var r=e.baseQueue,c=a.pending;if(c!==null){if(r!==null){var d=r.next;r.next=c.next,c.next=d}t.baseQueue=r=c,a.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var m=d=null,y=null,N=t,O=!1;do{var w=N.lane&-536870913;if(w!==N.lane?(ae&w)===w:(fn&w)===w){var D=N.revertLane;if(D===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),w===Pi&&(O=!0);else if((fn&D)===D){N=N.next,D===Pi&&(O=!0);continue}else w={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(m=y=w,d=c):y=y.next=w,W.lanes|=D,Gn|=D;w=N.action,Ei&&i(c,w),c=N.hasEagerState?N.eagerState:i(c,w)}else D={lane:w,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(m=y=D,d=c):y=y.next=D,W.lanes|=w,Gn|=w;N=N.next}while(N!==null&&N!==t);if(y===null?d=c:y.next=m,!Tt(c,e.memoizedState)&&(Ge=!0,O&&(i=el,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,a.lastRenderedState=c}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function so(e){var t=qe(),i=t.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=e;var a=i.dispatch,r=i.pending,c=t.memoizedState;if(r!==null){i.pending=null;var d=r=r.next;do c=e(c,d.action),d=d.next;while(d!==r);Tt(c,t.memoizedState)||(Ge=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function ud(e,t,i){var a=W,r=qe(),c=re;if(c){if(i===void 0)throw Error(u(407));i=i()}else i=t();var d=!Tt((ye||r).memoizedState,i);if(d&&(r.memoizedState=i,Ge=!0),r=r.queue,oo(cd.bind(null,a,r,e),[e]),r.getSnapshot!==t||d||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,sl(9,{destroy:void 0},od.bind(null,a,r,i,t),null),Ce===null)throw Error(u(349));c||(fn&127)!==0||rd(a,t,i)}return i}function rd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=W.updateQueue,t===null?(t=Us(),W.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function od(e,t,i,a){t.value=i,t.getSnapshot=a,fd(t)&&hd(e)}function cd(e,t,i){return i(function(){fd(t)&&hd(e)})}function fd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Tt(e,i)}catch{return!0}}function hd(e){var t=hi(e,2);t!==null&&pt(t,e,2)}function uo(e){var t=ut();if(typeof e=="function"){var i=e;if(e=i(),Ei){Rn(!0);try{i()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function dd(e,t,i,a){return e.baseState=i,ao(e,ye,typeof a=="function"?a:hn)}function Bv(e,t,i,a,r){if(qs(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,md(t,c)):(c.next=i.next,t.pending=i.next=c)}}function md(e,t){var i=t.action,a=t.payload,r=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var m=i(r,a),y=M.S;y!==null&&y(d,m),_d(e,t,m)}catch(N){ro(e,t,N)}finally{c!==null&&d.types!==null&&(c.types=d.types),M.T=c}}else try{c=i(r,a),_d(e,t,c)}catch(N){ro(e,t,N)}}function _d(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){pd(e,t,a)},function(a){return ro(e,t,a)}):pd(e,t,i)}function pd(e,t,i){t.status="fulfilled",t.value=i,gd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,md(e,i)))}function ro(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,gd(t),t=t.next;while(t!==a)}e.action=null}function gd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yd(e,t){return t}function vd(e,t){if(re){var i=Ce.formState;if(i!==null){e:{var a=W;if(re){if(Re){t:{for(var r=Re,c=It;r.nodeType!==8;){if(!c){r=null;break t}if(r=jt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Re=jt(r.nextSibling),a=r.data==="F!";break e}}zn(a)}a=!1}a&&(t=i[0])}}return i=ut(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},i.queue=a,i=Id.bind(null,W,a),a.dispatch=i,a=uo(!1),c=_o.bind(null,W,!1,a.queue),a=ut(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,i=Bv.bind(null,W,r,c,i),r.dispatch=i,a.memoizedState=e,[t,i,!1]}function Sd(e){var t=qe();return Ed(t,ye,e)}function Ed(e,t,i){if(t=ao(e,t,yd)[0],e=Hs(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=aa(t)}catch(d){throw d===tl?Ns:d}else a=t;t=qe();var r=t.queue,c=r.dispatch;return i!==t.memoizedState&&(W.flags|=2048,sl(9,{destroy:void 0},Iv.bind(null,r,i),null)),[a,c,e]}function Iv(e,t){e.action=t}function bd(e){var t=qe(),i=ye;if(i!==null)return Ed(t,i,e);qe(),t=t.memoizedState,i=qe();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function sl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=W.updateQueue,t===null&&(t=Us(),W.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Cd(){return qe().memoizedState}function Bs(e,t,i,a){var r=ut();W.flags|=e,r.memoizedState=sl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Is(e,t,i,a){var r=qe();a=a===void 0?null:a;var c=r.memoizedState.inst;ye!==null&&a!==null&&Pr(a,ye.memoizedState.deps)?r.memoizedState=sl(t,c,i,a):(W.flags|=e,r.memoizedState=sl(1|t,c,i,a))}function Td(e,t){Bs(8390656,8,e,t)}function oo(e,t){Is(2048,8,e,t)}function qv(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=Us(),W.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Ad(e){var t=qe().memoizedState;return qv({ref:t,nextImpl:e}),function(){if((he&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Nd(e,t){return Is(4,2,e,t)}function Dd(e,t){return Is(4,4,e,t)}function Rd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Od(e,t,i){i=i!=null?i.concat([e]):null,Is(4,4,Rd.bind(null,t,e),i)}function co(){}function Md(e,t){var i=qe();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&Pr(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function xd(e,t){var i=qe();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&Pr(t,a[1]))return a[0];if(a=e(),Ei){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[a,t],a}function fo(e,t,i){return i===void 0||(fn&1073741824)!==0&&(ae&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=wm(),W.lanes|=e,Gn|=e,i)}function wd(e,t,i,a){return Tt(i,t)?i:il.current!==null?(e=fo(e,i,a),Tt(e,t)||(Ge=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(ae&261930)===0?(Ge=!0,e.memoizedState=i):(e=wm(),W.lanes|=e,Gn|=e,t)}function zd(e,t,i,a,r){var c=B.p;B.p=c!==0&&8>c?c:8;var d=M.T,m={};M.T=m,_o(e,!1,t,i);try{var y=r(),N=M.S;if(N!==null&&N(m,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var O=Uv(y,a);sa(e,t,O,Mt(e))}else sa(e,t,a,Mt(e))}catch(w){sa(e,t,{then:function(){},status:"rejected",reason:w},Mt())}finally{B.p=c,d!==null&&m.types!==null&&(d.types=m.types),M.T=d}}function jv(){}function ho(e,t,i,a){if(e.tag!==5)throw Error(u(476));var r=Ud(e).queue;zd(e,r,t,Z,i===null?jv:function(){return Ld(e),i(a)})}function Ud(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ld(e){var t=Ud(e);t.next===null&&(t=e.alternate.memoizedState),sa(e,t.next.queue,{},Mt())}function mo(){return Pe(Ca)}function Hd(){return qe().memoizedState}function Bd(){return qe().memoizedState}function Yv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Mt();e=Hn(i);var a=Bn(t,e,i);a!==null&&(pt(a,t,i),ta(a,t,i)),t={cache:Gr()},e.payload=t;return}t=t.return}}function Gv(e,t,i){var a=Mt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},qs(e)?qd(t,i):(i=xr(e,t,i,a),i!==null&&(pt(i,e,a),jd(i,t,a)))}function Id(e,t,i){var a=Mt();sa(e,t,i,a)}function sa(e,t,i,a){var r={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(qs(e))qd(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,m=c(d,i);if(r.hasEagerState=!0,r.eagerState=m,Tt(m,d))return vs(e,t,r,0),Ce===null&&ys(),!1}catch{}finally{}if(i=xr(e,t,r,a),i!==null)return pt(i,e,a),jd(i,t,a),!0}return!1}function _o(e,t,i,a){if(a={lane:2,revertLane:Zo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(u(479))}else t=xr(e,i,a,2),t!==null&&pt(t,e,2)}function qs(e){var t=e.alternate;return e===W||t!==null&&t===W}function qd(e,t){ll=ws=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Qf(e,i)}}var ua={readContext:Pe,use:Ls,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};ua.useEffectEvent=we;var Yd={readContext:Pe,use:Ls,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:Td,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Bs(4194308,4,Rd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var i=ut();t=t===void 0?null:t;var a=e();if(Ei){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ut();if(i!==void 0){var r=i(t);if(Ei){Rn(!0);try{i(t)}finally{Rn(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Gv.bind(null,W,e),[a.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=uo(e);var t=e.queue,i=Id.bind(null,W,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:co,useDeferredValue:function(e,t){var i=ut();return fo(i,e,t)},useTransition:function(){var e=uo(!1);return e=zd.bind(null,W,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=W,r=ut();if(re){if(i===void 0)throw Error(u(407));i=i()}else{if(i=t(),Ce===null)throw Error(u(349));(ae&127)!==0||rd(a,t,i)}r.memoizedState=i;var c={value:i,getSnapshot:t};return r.queue=c,Td(cd.bind(null,a,c,e),[e]),a.flags|=2048,sl(9,{destroy:void 0},od.bind(null,a,c,i,t),null),i},useId:function(){var e=ut(),t=Ce.identifierPrefix;if(re){var i=Pt,a=$t;i=(a&~(1<<32-Ct(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=zs++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Lv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mo,useFormState:vd,useActionState:vd,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=_o.bind(null,W,!0,i),i.dispatch=t,[e,t]},useMemoCache:lo,useCacheRefresh:function(){return ut().memoizedState=Yv.bind(null,W)},useEffectEvent:function(e){var t=ut(),i={impl:e};return t.memoizedState=i,function(){if((he&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},po={readContext:Pe,use:Ls,useCallback:Md,useContext:Pe,useEffect:oo,useImperativeHandle:Od,useInsertionEffect:Nd,useLayoutEffect:Dd,useMemo:xd,useReducer:Hs,useRef:Cd,useState:function(){return Hs(hn)},useDebugValue:co,useDeferredValue:function(e,t){var i=qe();return wd(i,ye.memoizedState,e,t)},useTransition:function(){var e=Hs(hn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:aa(e),t]},useSyncExternalStore:ud,useId:Hd,useHostTransitionStatus:mo,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var i=qe();return dd(i,ye,e,t)},useMemoCache:lo,useCacheRefresh:Bd};po.useEffectEvent=Ad;var Gd={readContext:Pe,use:Ls,useCallback:Md,useContext:Pe,useEffect:oo,useImperativeHandle:Od,useInsertionEffect:Nd,useLayoutEffect:Dd,useMemo:xd,useReducer:so,useRef:Cd,useState:function(){return so(hn)},useDebugValue:co,useDeferredValue:function(e,t){var i=qe();return ye===null?fo(i,e,t):wd(i,ye.memoizedState,e,t)},useTransition:function(){var e=so(hn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:aa(e),t]},useSyncExternalStore:ud,useId:Hd,useHostTransitionStatus:mo,useFormState:bd,useActionState:bd,useOptimistic:function(e,t){var i=qe();return ye!==null?dd(i,ye,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Bd};Gd.useEffectEvent=Ad;function go(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yo={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Mt(),r=Hn(a);r.payload=t,i!=null&&(r.callback=i),t=Bn(e,r,a),t!==null&&(pt(t,e,a),ta(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Mt(),r=Hn(a);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Bn(e,r,a),t!==null&&(pt(t,e,a),ta(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Mt(),a=Hn(i);a.tag=2,t!=null&&(a.callback=t),t=Bn(e,a,i),t!==null&&(pt(t,e,i),ta(t,e,i))}};function kd(e,t,i,a,r,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!Zl(i,a)||!Zl(r,c):!0}function Vd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function bi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function Qd(e){gs(e)}function Xd(e){console.error(e)}function Zd(e){gs(e)}function js(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Kd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function vo(e,t,i){return i=Hn(i),i.tag=3,i.payload={element:null},i.callback=function(){js(e,t)},i}function Fd(e){return e=Hn(e),e.tag=3,e}function Jd(e,t,i,a){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var c=a.value;e.payload=function(){return r(c)},e.callback=function(){Kd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Kd(t,i,a),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function kv(e,t,i,a,r){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&$i(t,i,r,!0),i=Nt.current,i!==null){switch(i.tag){case 31:case 13:return qt===null?$s():i.alternate===null&&ze===0&&(ze=3),i.flags&=-257,i.flags|=65536,i.lanes=r,a===Ds?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Vo(e,a,r)),!1;case 22:return i.flags|=65536,a===Ds?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Vo(e,a,r)),!1}throw Error(u(435,i.tag))}return Vo(e,a,r),$s(),!1}if(re)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Br&&(e=Error(u(422),{cause:a}),Jl(Lt(e,i)))):(a!==Br&&(t=Error(u(423),{cause:a}),Jl(Lt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Lt(a,i),r=vo(e.stateNode,a,r),Kr(e,r),ze!==4&&(ze=2)),!1;var c=Error(u(520),{cause:a});if(c=Lt(c,i),_a===null?_a=[c]:_a.push(c),ze!==4&&(ze=2),t===null)return!0;a=Lt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=vo(i.stateNode,a,e),Kr(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(kn===null||!kn.has(c))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Fd(r),Jd(r,e,i,a),Kr(i,r),!1}i=i.return}while(i!==null);return!1}var So=Error(u(461)),Ge=!1;function et(e,t,i,a){t.child=e===null?ed(t,null,i,a):Si(t,e.child,i,a)}function Wd(e,t,i,a,r){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var m in a)m!=="ref"&&(d[m]=a[m])}else d=a;return pi(t),a=eo(e,t,i,d,c,r),m=to(),e!==null&&!Ge?(no(e,t,r),dn(e,t,r)):(re&&m&&Lr(t),t.flags|=1,et(e,t,a,r),t.child)}function $d(e,t,i,a,r){if(e===null){var c=i.type;return typeof c=="function"&&!wr(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Pd(e,t,c,a,r)):(e=Es(i.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ro(e,r)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Zl,i(d,a)&&e.ref===t.ref)return dn(e,t,r)}return t.flags|=1,e=un(c,a),e.ref=t.ref,e.return=t,t.child=e}function Pd(e,t,i,a,r){if(e!==null){var c=e.memoizedProps;if(Zl(c,a)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=a=c,Ro(e,r))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,dn(e,t,r)}return Eo(e,t,i,a,r)}function em(e,t,i,a){var r=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~c}else a=0,t.child=null;return tm(e,t,c,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&As(t,c!==null?c.cachePool:null),c!==null?id(t,c):Jr(),ld(t);else return a=t.lanes=536870912,tm(e,t,c!==null?c.baseLanes|i:i,i,a)}else c!==null?(As(t,c.cachePool),id(t,c),qn(),t.memoizedState=null):(e!==null&&As(t,null),Jr(),qn());return et(e,t,r,i),t.child}function ra(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tm(e,t,i,a,r){var c=Vr();return c=c===null?null:{parent:je._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&As(t,null),Jr(),ld(t),e!==null&&$i(e,t,a,!0),t.childLanes=r,null}function Ys(e,t){return t=ks({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nm(e,t,i){return Si(t,e.child,null,i),e=Ys(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function Vv(e,t,i){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(a.mode==="hidden")return e=Ys(t,a),t.lanes=536870912,ra(null,e);if($r(t),(e=Re)?(e=m_(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:$t,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},i=qh(e),i.return=t,t.child=i,$e=t,Re=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return Ys(t,a)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if($r(t),r)if(t.flags&256)t.flags&=-257,t=nm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(Ge||$i(e,t,i,!1),r=(i&e.childLanes)!==0,Ge||r){if(a=Ce,a!==null&&(d=Xf(a,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,hi(e,d),pt(a,e,d),So;$s(),t=nm(e,t,i)}else e=c.treeContext,Re=jt(d.nextSibling),$e=t,re=!0,wn=null,It=!1,e!==null&&Gh(t,e),t=Ys(t,a),t.flags|=4096;return t}return e=un(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gs(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Eo(e,t,i,a,r){return pi(t),i=eo(e,t,i,a,void 0,r),a=to(),e!==null&&!Ge?(no(e,t,r),dn(e,t,r)):(re&&a&&Lr(t),t.flags|=1,et(e,t,i,r),t.child)}function im(e,t,i,a,r,c){return pi(t),t.updateQueue=null,i=sd(t,a,i,r),ad(e),a=to(),e!==null&&!Ge?(no(e,t,c),dn(e,t,c)):(re&&a&&Lr(t),t.flags|=1,et(e,t,i,c),t.child)}function lm(e,t,i,a,r){if(pi(t),t.stateNode===null){var c=Ki,d=i.contextType;typeof d=="object"&&d!==null&&(c=Pe(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=yo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Xr(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?Pe(d):Ki,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(go(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&yo.enqueueReplaceState(c,c.state,null),ia(t,a,c,r),na(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var m=t.memoizedProps,y=bi(i,m);c.props=y;var N=c.context,O=i.contextType;d=Ki,typeof O=="object"&&O!==null&&(d=Pe(O));var w=i.getDerivedStateFromProps;O=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m||N!==d)&&Vd(t,c,a,d),Ln=!1;var D=t.memoizedState;c.state=D,ia(t,a,c,r),na(),N=t.memoizedState,m||D!==N||Ln?(typeof w=="function"&&(go(t,i,w,a),N=t.memoizedState),(y=Ln||kd(t,i,y,a,D,N,d))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=d,a=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Zr(e,t),d=t.memoizedProps,O=bi(i,d),c.props=O,w=t.pendingProps,D=c.context,N=i.contextType,y=Ki,typeof N=="object"&&N!==null&&(y=Pe(N)),m=i.getDerivedStateFromProps,(N=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==w||D!==y)&&Vd(t,c,a,y),Ln=!1,D=t.memoizedState,c.state=D,ia(t,a,c,r),na();var R=t.memoizedState;d!==w||D!==R||Ln||e!==null&&e.dependencies!==null&&Cs(e.dependencies)?(typeof m=="function"&&(go(t,i,m,a),R=t.memoizedState),(O=Ln||kd(t,i,O,a,D,R,y)||e!==null&&e.dependencies!==null&&Cs(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,R,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,R,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),c.props=a,c.state=R,c.context=y,a=O):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Gs(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Si(t,e.child,null,r),t.child=Si(t,null,i,r)):et(e,t,i,r),t.memoizedState=c.state,e=t.child):e=dn(e,t,r),e}function am(e,t,i,a){return mi(),t.flags|=256,et(e,t,i,a),t.child}var bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Co(e){return{baseLanes:e,cachePool:Kh()}}function To(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ot),e}function sm(e,t,i){var a=t.pendingProps,r=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),d&&(r=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(r?In(t):qn(),(e=Re)?(e=m_(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:$t,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},i=qh(e),i.return=t,t.child=i,$e=t,Re=null)):e=null,e===null)throw zn(t);return sc(e)?t.lanes=32:t.lanes=536870912,null}var m=a.children;return a=a.fallback,r?(qn(),r=t.mode,m=ks({mode:"hidden",children:m},r),a=di(a,r,i,null),m.return=t,a.return=t,m.sibling=a,t.child=m,a=t.child,a.memoizedState=Co(i),a.childLanes=To(e,d,i),t.memoizedState=bo,ra(null,a)):(In(t),Ao(t,m))}var y=e.memoizedState;if(y!==null&&(m=y.dehydrated,m!==null)){if(c)t.flags&256?(In(t),t.flags&=-257,t=No(e,t,i)):t.memoizedState!==null?(qn(),t.child=e.child,t.flags|=128,t=null):(qn(),m=a.fallback,r=t.mode,a=ks({mode:"visible",children:a.children},r),m=di(m,r,i,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,Si(t,e.child,null,i),a=t.child,a.memoizedState=Co(i),a.childLanes=To(e,d,i),t.memoizedState=bo,t=ra(null,a));else if(In(t),sc(m)){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;d=N,a=Error(u(419)),a.stack="",a.digest=d,Jl({value:a,source:null,stack:null}),t=No(e,t,i)}else if(Ge||$i(e,t,i,!1),d=(i&e.childLanes)!==0,Ge||d){if(d=Ce,d!==null&&(a=Xf(d,i),a!==0&&a!==y.retryLane))throw y.retryLane=a,hi(e,a),pt(d,e,a),So;ac(m)||$s(),t=No(e,t,i)}else ac(m)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Re=jt(m.nextSibling),$e=t,re=!0,wn=null,It=!1,e!==null&&Gh(t,e),t=Ao(t,a.children),t.flags|=4096);return t}return r?(qn(),m=a.fallback,r=t.mode,y=e.child,N=y.sibling,a=un(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&65011712,N!==null?m=un(N,m):(m=di(m,r,i,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,ra(null,a),a=t.child,m=e.child.memoizedState,m===null?m=Co(i):(r=m.cachePool,r!==null?(y=je._currentValue,r=r.parent!==y?{parent:y,pool:y}:r):r=Kh(),m={baseLanes:m.baseLanes|i,cachePool:r}),a.memoizedState=m,a.childLanes=To(e,d,i),t.memoizedState=bo,ra(e.child,a)):(In(t),i=e.child,e=i.sibling,i=un(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Ao(e,t){return t=ks({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ks(e,t){return e=At(22,e,null,t),e.lanes=0,e}function No(e,t,i){return Si(t,e.child,null,i),e=Ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),jr(e.return,t,i)}function Do(e,t,i,a,r,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:r,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=r,d.treeForkCount=c)}function rm(e,t,i){var a=t.pendingProps,r=a.revealOrder,c=a.tail;a=a.children;var d=Ie.current,m=(d&2)!==0;if(m?(d=d&1|2,t.flags|=128):d&=1,I(Ie,d),et(e,t,a,i),a=re?Fl:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,i,t);else if(e.tag===19)um(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&xs(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Do(t,!1,r,i,c,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&xs(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Do(t,!0,i,null,c,a);break;case"together":Do(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function dn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if($i(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,i=un(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=un(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ro(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cs(e)))}function Qv(e,t,i){switch(t.tag){case 3:st(t,t.stateNode.containerInfo),Un(t,je,e.memoizedState.cache),mi();break;case 27:case 5:Ul(t);break;case 4:st(t,t.stateNode.containerInfo);break;case 10:Un(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$r(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(In(t),t.flags|=128,null):(i&t.child.childLanes)!==0?sm(e,t,i):(In(t),e=dn(e,t,i),e!==null?e.sibling:null);In(t);break;case 19:var r=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||($i(e,t,i,!1),a=(i&t.childLanes)!==0),r){if(a)return rm(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),I(Ie,Ie.current),a)break;return null;case 22:return t.lanes=0,em(e,t,i,t.pendingProps);case 24:Un(t,je,e.memoizedState.cache)}return dn(e,t,i)}function om(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Ro(e,i)&&(t.flags&128)===0)return Ge=!1,Qv(e,t,i);Ge=(e.flags&131072)!==0}else Ge=!1,re&&(t.flags&1048576)!==0&&Yh(t,Fl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=yi(t.elementType),t.type=e,typeof e=="function")wr(e)?(a=bi(e,a),t.tag=1,t=lm(null,t,e,a,i)):(t.tag=0,t=Eo(null,t,e,a,i));else{if(e!=null){var r=e.$$typeof;if(r===De){t.tag=11,t=Wd(null,t,e,a,i);break e}else if(r===ue){t.tag=14,t=$d(null,t,e,a,i);break e}}throw t=nn(e)||e,Error(u(306,t,""))}}return t;case 0:return Eo(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,r=bi(a,t.pendingProps),lm(e,t,a,r,i);case 3:e:{if(st(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var c=t.memoizedState;r=c.element,Zr(e,t),ia(t,a,null,i);var d=t.memoizedState;if(a=d.cache,Un(t,je,a),a!==c.cache&&Yr(t,[je],i,!0),na(),a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=am(e,t,a,i);break e}else if(a!==r){r=Lt(Error(u(424)),t),Jl(r),t=am(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=jt(e.firstChild),$e=t,re=!0,wn=null,It=!0,i=ed(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(mi(),a===r){t=dn(e,t,i);break e}et(e,t,a,i)}t=t.child}return t;case 26:return Gs(e,t),e===null?(i=S_(t.type,null,t.pendingProps,null))?t.memoizedState=i:re||(i=t.type,e=t.pendingProps,a=au(te.current).createElement(i),a[We]=t,a[ct]=e,tt(a,i,e),Xe(a),t.stateNode=a):t.memoizedState=S_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ul(t),e===null&&re&&(a=t.stateNode=g_(t.type,t.pendingProps,te.current),$e=t,It=!0,r=Re,Zn(t.type)?(uc=r,Re=jt(a.firstChild)):Re=r),et(e,t,t.pendingProps.children,i),Gs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((r=a=Re)&&(a=E0(a,t.type,t.pendingProps,It),a!==null?(t.stateNode=a,$e=t,Re=jt(a.firstChild),It=!1,r=!0):r=!1),r||zn(t)),Ul(t),r=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,nc(r,c)?a=null:d!==null&&nc(r,d)&&(t.flags|=32),t.memoizedState!==null&&(r=eo(e,t,Hv,null,null,i),Ca._currentValue=r),Gs(e,t),et(e,t,a,i),t.child;case 6:return e===null&&re&&((e=i=Re)&&(i=b0(i,t.pendingProps,It),i!==null?(t.stateNode=i,$e=t,Re=null,e=!0):e=!1),e||zn(t)),null;case 13:return sm(e,t,i);case 4:return st(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Si(t,null,a,i):et(e,t,a,i),t.child;case 11:return Wd(e,t,t.type,t.pendingProps,i);case 7:return et(e,t,t.pendingProps,i),t.child;case 8:return et(e,t,t.pendingProps.children,i),t.child;case 12:return et(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Un(t,t.type,a.value),et(e,t,a.children,i),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,pi(t),r=Pe(r),a=a(r),t.flags|=1,et(e,t,a,i),t.child;case 14:return $d(e,t,t.type,t.pendingProps,i);case 15:return Pd(e,t,t.type,t.pendingProps,i);case 19:return rm(e,t,i);case 31:return Vv(e,t,i);case 22:return em(e,t,i,t.pendingProps);case 24:return pi(t),a=Pe(je),e===null?(r=Vr(),r===null&&(r=Ce,c=Gr(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=i),r=c),t.memoizedState={parent:a,cache:r},Xr(t),Un(t,je,r)):((e.lanes&i)!==0&&(Zr(e,t),ia(t,null,null,i),na()),r=e.memoizedState,c=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Un(t,je,a)):(a=c.cache,Un(t,je,a),a!==r.cache&&Yr(t,[je],i,!0))),et(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function mn(e){e.flags|=4}function Oo(e,t,i,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Hm())e.flags|=8192;else throw vi=Ds,Qr}else e.flags&=-16777217}function cm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(t))if(Hm())e.flags|=8192;else throw vi=Ds,Qr}function Vs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kf():536870912,e.lanes|=t,cl|=t)}function oa(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Xv(e,t,i){var a=t.pendingProps;switch(Hr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cn(je),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ir())),Oe(t),null;case 26:var r=t.type,c=t.memoizedState;return e===null?(mn(t),c!==null?(Oe(t),cm(t,c)):(Oe(t),Oo(t,r,null,a,i))):c?c!==e.memoizedState?(mn(t),Oe(t),cm(t,c)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&mn(t),Oe(t),Oo(t,r,e,a,i)),null;case 27:if(ts(t),i=te.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Oe(t),null}e=j.current,Wi(t)?kh(t):(e=g_(r,a,i),t.stateNode=e,mn(t))}return Oe(t),null;case 5:if(ts(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Oe(t),null}if(c=j.current,Wi(t))kh(t);else{var d=au(te.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?d.createElement(r,{is:a.is}):d.createElement(r)}}c[We]=t,c[ct]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(tt(c,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&mn(t)}}return Oe(t),Oo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=te.current,Wi(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,r=$e,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[We]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||s_(e.nodeValue,i)),e||zn(t,!0)}else e=au(e).createTextNode(a),e[We]=t,t.stateNode=e}return Oe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=Wi(t),i!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[We]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else i=Ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Wi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(u(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(u(317));r[We]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),r=!1}else r=Ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Vs(t,t.updateQueue),Oe(t),null);case 4:return Be(),e===null&&Wo(t.stateNode.containerInfo),Oe(t),null;case 10:return cn(t.type),Oe(t),null;case 19:if(z(Ie),a=t.memoizedState,a===null)return Oe(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)oa(a,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=xs(e),c!==null){for(t.flags|=128,oa(a,!1),e=c.updateQueue,t.updateQueue=e,Vs(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ih(i,e),i=i.sibling;return I(Ie,Ie.current&1|2),re&&rn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Et()>Fs&&(t.flags|=128,r=!0,oa(a,!1),t.lanes=4194304)}else{if(!r)if(e=xs(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Vs(t,e),oa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!re)return Oe(t),null}else 2*Et()-a.renderingStartTime>Fs&&i!==536870912&&(t.flags|=128,r=!0,oa(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Et(),e.sibling=null,i=Ie.current,I(Ie,r?i&1|2:i&1),re&&rn(t,a.treeForkCount),e):(Oe(t),null);case 22:case 23:return Dt(t),Wr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&Vs(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&z(gi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),cn(je),Oe(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Zv(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(je),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ts(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(u(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Ie),null;case 4:return Be(),null;case 10:return cn(t.type),null;case 22:case 23:return Dt(t),Wr(),e!==null&&z(gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(je),null;case 25:return null;default:return null}}function fm(e,t){switch(Hr(t),t.tag){case 3:cn(je),Be();break;case 26:case 27:case 5:ts(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:z(Ie);break;case 10:cn(t.type);break;case 22:case 23:Dt(t),Wr(),e!==null&&z(gi);break;case 24:cn(je)}}function ca(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==r)}}catch(m){pe(t,t.return,m)}}function jn(e,t,i){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){var d=a.inst,m=d.destroy;if(m!==void 0){d.destroy=void 0,r=t;var y=i,N=m;try{N()}catch(O){pe(r,y,O)}}}a=a.next}while(a!==c)}}catch(O){pe(t,t.return,O)}}function hm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{nd(t,i)}catch(a){pe(e,e.return,a)}}}function dm(e,t,i){i.props=bi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){pe(e,t,a)}}function fa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(r){pe(e,t,r)}}function en(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(r){pe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){pe(e,t,r)}else i.current=null}function mm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(r){pe(e,e.return,r)}}function Mo(e,t,i){try{var a=e.stateNode;_0(a,e.type,i,t),a[ct]=t}catch(r){pe(e,e.return,r)}}function _m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=an));else if(a!==4&&(a===27&&Zn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(wo(e,t,i),e=e.sibling;e!==null;)wo(e,t,i),e=e.sibling}function Qs(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Zn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Qs(e,t,i),e=e.sibling;e!==null;)Qs(e,t,i),e=e.sibling}function pm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);tt(t,a,i),t[We]=e,t[ct]=i}catch(c){pe(e,e.return,c)}}var _n=!1,ke=!1,zo=!1,gm=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Kv(e,t){if(e=e.containerInfo,ec=hu,e=Oh(e),Ar(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var r=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,m=-1,y=-1,N=0,O=0,w=e,D=null;t:for(;;){for(var R;w!==i||r!==0&&w.nodeType!==3||(m=d+r),w!==c||a!==0&&w.nodeType!==3||(y=d+a),w.nodeType===3&&(d+=w.nodeValue.length),(R=w.firstChild)!==null;)D=w,w=R;for(;;){if(w===e)break t;if(D===i&&++N===r&&(m=d),D===c&&++O===a&&(y=d),(R=w.nextSibling)!==null)break;w=D,D=w.parentNode}w=R}i=m===-1||y===-1?null:{start:m,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(tc={focusedElem:e,selectionRange:i},hu=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,r=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var q=bi(i.type,r);e=a.getSnapshotBeforeUpdate(q,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Q){pe(i,i.return,Q)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)lc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function ym(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:gn(e,i),a&4&&ca(5,i);break;case 1:if(gn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){pe(i,i.return,d)}else{var r=bi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){pe(i,i.return,d)}}a&64&&hm(i),a&512&&fa(i,i.return);break;case 3:if(gn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{nd(e,t)}catch(d){pe(i,i.return,d)}}break;case 27:t===null&&a&4&&pm(i);case 26:case 5:gn(e,i),t===null&&a&4&&mm(i),a&512&&fa(i,i.return);break;case 12:gn(e,i);break;case 31:gn(e,i),a&4&&Em(e,i);break;case 13:gn(e,i),a&4&&bm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=i0.bind(null,i),C0(e,i))));break;case 22:if(a=i.memoizedState!==null||_n,!a){t=t!==null&&t.memoizedState!==null||ke,r=_n;var c=ke;_n=a,(ke=t)&&!c?yn(e,i,(i.subtreeFlags&8772)!==0):gn(e,i),_n=r,ke=c}break;case 30:break;default:gn(e,i)}}function vm(e){var t=e.alternate;t!==null&&(e.alternate=null,vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&rr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,ht=!1;function pn(e,t,i){for(i=i.child;i!==null;)Sm(e,t,i),i=i.sibling}function Sm(e,t,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ll,i)}catch{}switch(i.tag){case 26:ke||en(i,t),pn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ke||en(i,t);var a=xe,r=ht;Zn(i.type)&&(xe=i.stateNode,ht=!1),pn(e,t,i),Sa(i.stateNode),xe=a,ht=r;break;case 5:ke||en(i,t);case 6:if(a=xe,r=ht,xe=null,pn(e,t,i),xe=a,ht=r,xe!==null)if(ht)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(i.stateNode)}catch(c){pe(i,t,c)}else try{xe.removeChild(i.stateNode)}catch(c){pe(i,t,c)}break;case 18:xe!==null&&(ht?(e=xe,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),yl(e)):h_(xe,i.stateNode));break;case 4:a=xe,r=ht,xe=i.stateNode.containerInfo,ht=!0,pn(e,t,i),xe=a,ht=r;break;case 0:case 11:case 14:case 15:jn(2,i,t),ke||jn(4,i,t),pn(e,t,i);break;case 1:ke||(en(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&dm(i,t,a)),pn(e,t,i);break;case 21:pn(e,t,i);break;case 22:ke=(a=ke)||i.memoizedState!==null,pn(e,t,i),ke=a;break;default:pn(e,t,i)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yl(e)}catch(i){pe(t,t.return,i)}}}function bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(i){pe(t,t.return,i)}}function Fv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gm),t;default:throw Error(u(435,e.tag))}}function Xs(e,t){var i=Fv(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var r=l0.bind(null,e,a);a.then(r,r)}})}function dt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var r=i[a],c=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 27:if(Zn(m.type)){xe=m.stateNode,ht=!1;break e}break;case 5:xe=m.stateNode,ht=!1;break e;case 3:case 4:xe=m.stateNode.containerInfo,ht=!0;break e}m=m.return}if(xe===null)throw Error(u(160));Sm(c,d,r),xe=null,ht=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}var Vt=null;function Cm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(t,e),mt(e),a&4&&(jn(3,e,e.return),ca(3,e),jn(5,e,e.return));break;case 1:dt(t,e),mt(e),a&512&&(ke||i===null||en(i,i.return)),a&64&&_n&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var r=Vt;if(dt(t,e),mt(e),a&512&&(ke||i===null||en(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Il]||c[We]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(a),r.head.insertBefore(c,r.querySelector("head > title"))),tt(c,a,i),c[We]=e,Xe(c),a=c;break e;case"link":var d=C_("link","href",r).get(a+(i.href||""));if(d){for(var m=0;m<d.length;m++)if(c=d[m],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(m,1);break t}}c=r.createElement(a),tt(c,a,i),r.head.appendChild(c);break;case"meta":if(d=C_("meta","content",r).get(a+(i.content||""))){for(m=0;m<d.length;m++)if(c=d[m],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(m,1);break t}}c=r.createElement(a),tt(c,a,i),r.head.appendChild(c);break;default:throw Error(u(468,a))}c[We]=e,Xe(c),a=c}e.stateNode=a}else T_(r,e.type,e.stateNode);else e.stateNode=b_(r,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?T_(r,e.type,e.stateNode):b_(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Mo(e,e.memoizedProps,i.memoizedProps)}break;case 27:dt(t,e),mt(e),a&512&&(ke||i===null||en(i,i.return)),i!==null&&a&4&&Mo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dt(t,e),mt(e),a&512&&(ke||i===null||en(i,i.return)),e.flags&32){r=e.stateNode;try{Yi(r,"")}catch(q){pe(e,e.return,q)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Mo(e,r,i!==null?i.memoizedProps:r)),a&1024&&(zo=!0);break;case 6:if(dt(t,e),mt(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(q){pe(e,e.return,q)}}break;case 3:if(ru=null,r=Vt,Vt=su(t.containerInfo),dt(t,e),Vt=r,mt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(q){pe(e,e.return,q)}zo&&(zo=!1,Tm(e));break;case 4:a=Vt,Vt=su(e.stateNode.containerInfo),dt(t,e),mt(e),Vt=a;break;case 12:dt(t,e),mt(e);break;case 31:dt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xs(e,a)));break;case 13:dt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ks=Et()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xs(e,a)));break;case 22:r=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=_n,O=ke;if(_n=N||r,ke=O||y,dt(t,e),ke=O,_n=N,mt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||y||_n||ke||Ci(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,r)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{m=y.stateNode;var w=y.memoizedProps.style,D=w!=null&&w.hasOwnProperty("display")?w.display:null;m.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(q){pe(y,y.return,q)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=r?"":y.memoizedProps}catch(q){pe(y,y.return,q)}}}else if(t.tag===18){if(i===null){y=t;try{var R=y.stateNode;r?d_(R,!0):d_(y.stateNode,!1)}catch(q){pe(y,y.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Xs(e,i))));break;case 19:dt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xs(e,a)));break;case 30:break;case 21:break;default:dt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(_m(a)){i=a;break}a=a.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var r=i.stateNode,c=xo(e);Qs(e,c,r);break;case 5:var d=i.stateNode;i.flags&32&&(Yi(d,""),i.flags&=-33);var m=xo(e);Qs(e,m,d);break;case 3:case 4:var y=i.stateNode.containerInfo,N=xo(e);wo(e,N,y);break;default:throw Error(u(161))}}catch(O){pe(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ym(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jn(4,t,t.return),Ci(t);break;case 1:en(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&dm(t,t.return,i),Ci(t);break;case 27:Sa(t.stateNode);case 26:case 5:en(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function yn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:yn(r,c,i),ca(4,c);break;case 1:if(yn(r,c,i),a=c,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(N){pe(a,a.return,N)}if(a=c,r=a.updateQueue,r!==null){var m=a.stateNode;try{var y=r.shared.hiddenCallbacks;if(y!==null)for(r.shared.hiddenCallbacks=null,r=0;r<y.length;r++)td(y[r],m)}catch(N){pe(a,a.return,N)}}i&&d&64&&hm(c),fa(c,c.return);break;case 27:pm(c);case 26:case 5:yn(r,c,i),i&&a===null&&d&4&&mm(c),fa(c,c.return);break;case 12:yn(r,c,i);break;case 31:yn(r,c,i),i&&d&4&&Em(r,c);break;case 13:yn(r,c,i),i&&d&4&&bm(r,c);break;case 22:c.memoizedState===null&&yn(r,c,i),fa(c,c.return);break;case 30:break;default:yn(r,c,i)}t=t.sibling}}function Uo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Wl(i))}function Lo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Qt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(e,t,i,a),t=t.sibling}function Am(e,t,i,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,i,a),r&2048&&ca(9,t);break;case 1:Qt(e,t,i,a);break;case 3:Qt(e,t,i,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(r&2048){Qt(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,m=c.onPostCommit;typeof m=="function"&&m(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){pe(t,t.return,y)}}else Qt(e,t,i,a);break;case 31:Qt(e,t,i,a);break;case 13:Qt(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?Qt(e,t,i,a):ha(e,t):c._visibility&2?Qt(e,t,i,a):(c._visibility|=2,ul(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Uo(d,t);break;case 24:Qt(e,t,i,a),r&2048&&Lo(t.alternate,t);break;default:Qt(e,t,i,a)}}function ul(e,t,i,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,m=i,y=a,N=d.flags;switch(d.tag){case 0:case 11:case 15:ul(c,d,m,y,r),ca(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?ul(c,d,m,y,r):ha(c,d):(O._visibility|=2,ul(c,d,m,y,r)),r&&N&2048&&Uo(d.alternate,d);break;case 24:ul(c,d,m,y,r),r&&N&2048&&Lo(d.alternate,d);break;default:ul(c,d,m,y,r)}t=t.sibling}}function ha(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,r=a.flags;switch(a.tag){case 22:ha(i,a),r&2048&&Uo(a.alternate,a);break;case 24:ha(i,a),r&2048&&Lo(a.alternate,a);break;default:ha(i,a)}t=t.sibling}}var da=8192;function rl(e,t,i){if(e.subtreeFlags&da)for(e=e.child;e!==null;)Nm(e,t,i),e=e.sibling}function Nm(e,t,i){switch(e.tag){case 26:rl(e,t,i),e.flags&da&&e.memoizedState!==null&&L0(i,Vt,e.memoizedState,e.memoizedProps);break;case 5:rl(e,t,i);break;case 3:case 4:var a=Vt;Vt=su(e.stateNode.containerInfo),rl(e,t,i),Vt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=da,da=16777216,rl(e,t,i),da=a):rl(e,t,i));break;default:rl(e,t,i)}}function Dm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ma(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Ze=a,Om(a,e)}Dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 0:case 11:case 15:ma(e),e.flags&2048&&jn(9,e,e.return);break;case 3:ma(e);break;case 12:ma(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zs(e)):ma(e);break;default:ma(e)}}function Zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Ze=a,Om(a,e)}Dm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jn(8,t,t.return),Zs(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Zs(t));break;default:Zs(t)}e=e.sibling}}function Om(e,t){for(;Ze!==null;){var i=Ze;switch(i.tag){case 0:case 11:case 15:jn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Wl(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Ze=a;else e:for(i=e;Ze!==null;){a=Ze;var r=a.sibling,c=a.return;if(vm(a),a===i){Ze=null;break e}if(r!==null){r.return=c,Ze=r;break e}Ze=c}}}var Jv={getCacheForType:function(e){var t=Pe(je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Pe(je).controller.signal}},Wv=typeof WeakMap=="function"?WeakMap:Map,he=0,Ce=null,ne=null,ae=0,_e=0,Rt=null,Yn=!1,ol=!1,Ho=!1,vn=0,ze=0,Gn=0,Ti=0,Bo=0,Ot=0,cl=0,_a=null,_t=null,Io=!1,Ks=0,Mm=0,Fs=1/0,Js=null,kn=null,Ve=0,Vn=null,fl=null,Sn=0,qo=0,jo=null,xm=null,pa=0,Yo=null;function Mt(){return(he&2)!==0&&ae!==0?ae&-ae:M.T!==null?Zo():Zf()}function wm(){if(Ot===0)if((ae&536870912)===0||re){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),Ot=e}else Ot=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Ot}function pt(e,t,i){(e===Ce&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(hl(e,0),Qn(e,ae,Ot,!1)),Bl(e,i),((he&2)===0||e!==Ce)&&(e===Ce&&((he&2)===0&&(Ti|=i),ze===4&&Qn(e,ae,Ot,!1)),tn(e))}function zm(e,t,i){if((he&6)!==0)throw Error(u(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Hl(e,t),r=a?e0(e,t):ko(e,t,!0),c=a;do{if(r===0){ol&&!a&&Qn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!$v(i)){r=ko(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var m=e;r=_a;var y=m.current.memoizedState.isDehydrated;if(y&&(hl(m,d).flags|=256),d=ko(m,d,!1),d!==2){if(Ho&&!y){m.errorRecoveryDisabledLanes|=c,Ti|=c,r=4;break e}c=_t,_t=r,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}r=d}if(c=!1,r!==2)continue}}if(r===1){hl(e,0),Qn(e,t,0,!0);break}e:{switch(a=e,c=r,c){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Qn(a,t,Ot,!Yn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(r=Ks+300-Et(),10<r)){if(Qn(a,t,Ot,!Yn),ss(a,0,!0)!==0)break e;Sn=t,a.timeoutHandle=c_(Um.bind(null,a,i,_t,Js,Io,t,Ot,Ti,cl,Yn,c,"Throttled",-0,0),r);break e}Um(a,i,_t,Js,Io,t,Ot,Ti,cl,Yn,c,null,-0,0)}}break}while(!0);tn(e)}function Um(e,t,i,a,r,c,d,m,y,N,O,w,D,R){if(e.timeoutHandle=-1,w=t.subtreeFlags,w&8192||(w&16785408)===16785408){w={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Nm(t,c,w);var q=(c&62914560)===c?Ks-Et():(c&4194048)===c?Mm-Et():0;if(q=H0(w,q),q!==null){Sn=c,e.cancelPendingCommit=q(Gm.bind(null,e,t,c,i,a,r,d,m,y,O,w,null,D,R)),Qn(e,c,d,!N);return}}Gm(e,t,c,i,a,r,d,m,y)}function $v(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var r=i[a],c=r.getSnapshot;r=r.value;try{if(!Tt(c(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,i,a){t&=~Bo,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var c=31-Ct(r),d=1<<c;a[c]=-1,r&=~d}i!==0&&Vf(e,i,t)}function Ws(){return(he&6)===0?(ga(0),!1):!0}function Go(){if(ne!==null){if(_e===0)var e=ne.return;else e=ne,on=_i=null,io(e),nl=null,Pl=0,e=ne;for(;e!==null;)fm(e.alternate,e),e=e.return;ne=null}}function hl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,y0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Sn=0,Go(),Ce=e,ne=i=un(e.current,null),ae=t,_e=0,Rt=null,Yn=!1,ol=Hl(e,t),Ho=!1,cl=Ot=Bo=Ti=Gn=ze=0,_t=_a=null,Io=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Ct(a),c=1<<r;t|=e[r],a&=~c}return vn=t,ys(),i}function Lm(e,t){W=null,M.H=ua,t===tl||t===Ns?(t=Wh(),_e=3):t===Qr?(t=Wh(),_e=4):_e=t===So?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,ne===null&&(ze=1,js(e,Lt(t,e.current)))}function Hm(){var e=Nt.current;return e===null?!0:(ae&4194048)===ae?qt===null:(ae&62914560)===ae||(ae&536870912)!==0?e===qt:!1}function Bm(){var e=M.H;return M.H=ua,e===null?ua:e}function Im(){var e=M.A;return M.A=Jv,e}function $s(){ze=4,Yn||(ae&4194048)!==ae&&Nt.current!==null||(ol=!0),(Gn&134217727)===0&&(Ti&134217727)===0||Ce===null||Qn(Ce,ae,Ot,!1)}function ko(e,t,i){var a=he;he|=2;var r=Bm(),c=Im();(Ce!==e||ae!==t)&&(Js=null,hl(e,t)),t=!1;var d=ze;e:do try{if(_e!==0&&ne!==null){var m=ne,y=Rt;switch(_e){case 8:Go(),d=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var N=_e;if(_e=0,Rt=null,dl(e,m,y,N),i&&ol){d=0;break e}break;default:N=_e,_e=0,Rt=null,dl(e,m,y,N)}}Pv(),d=ze;break}catch(O){Lm(e,O)}while(!0);return t&&e.shellSuspendCounter++,on=_i=null,he=a,M.H=r,M.A=c,ne===null&&(Ce=null,ae=0,ys()),d}function Pv(){for(;ne!==null;)qm(ne)}function e0(e,t){var i=he;he|=2;var a=Bm(),r=Im();Ce!==e||ae!==t?(Js=null,Fs=Et()+500,hl(e,t)):ol=Hl(e,t);e:do try{if(_e!==0&&ne!==null){t=ne;var c=Rt;t:switch(_e){case 1:_e=0,Rt=null,dl(e,t,c,1);break;case 2:case 9:if(Fh(c)){_e=0,Rt=null,jm(t);break}t=function(){_e!==2&&_e!==9||Ce!==e||(_e=7),tn(e)},c.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Fh(c)?(_e=0,Rt=null,jm(t)):(_e=0,Rt=null,dl(e,t,c,7));break;case 5:var d=null;switch(ne.tag){case 26:d=ne.memoizedState;case 5:case 27:var m=ne;if(d?A_(d):m.stateNode.complete){_e=0,Rt=null;var y=m.sibling;if(y!==null)ne=y;else{var N=m.return;N!==null?(ne=N,Ps(N)):ne=null}break t}}_e=0,Rt=null,dl(e,t,c,5);break;case 6:_e=0,Rt=null,dl(e,t,c,6);break;case 8:Go(),ze=6;break e;default:throw Error(u(462))}}t0();break}catch(O){Lm(e,O)}while(!0);return on=_i=null,M.H=a,M.A=r,he=i,ne!==null?0:(Ce=null,ae=0,ys(),ze)}function t0(){for(;ne!==null&&!Ty();)qm(ne)}function qm(e){var t=om(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?Ps(e):ne=t}function jm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=im(i,t,t.pendingProps,t.type,void 0,ae);break;case 11:t=im(i,t,t.pendingProps,t.type.render,t.ref,ae);break;case 5:io(t);default:fm(i,t),t=ne=Ih(t,vn),t=om(i,t,vn)}e.memoizedProps=e.pendingProps,t===null?Ps(e):ne=t}function dl(e,t,i,a){on=_i=null,io(t),nl=null,Pl=0;var r=t.return;try{if(kv(e,r,t,i,ae)){ze=1,js(e,Lt(i,e.current)),ne=null;return}}catch(c){if(r!==null)throw ne=r,c;ze=1,js(e,Lt(i,e.current)),ne=null;return}t.flags&32768?(re||a===1?e=!0:ol||(ae&536870912)!==0?e=!1:(Yn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Nt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ym(t,e)):Ps(t)}function Ps(e){var t=e;do{if((t.flags&32768)!==0){Ym(t,Yn);return}e=t.return;var i=Xv(t.alternate,t,vn);if(i!==null){ne=i;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ze===0&&(ze=5)}function Ym(e,t){do{var i=Zv(e.alternate,e);if(i!==null){i.flags&=32767,ne=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=i}while(e!==null);ze=6,ne=null}function Gm(e,t,i,a,r,c,d,m,y){e.cancelPendingCommit=null;do eu();while(Ve!==0);if((he&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(c=t.lanes|t.childLanes,c|=Mr,Uy(e,i,c,d,m,y),e===Ce&&(ne=Ce=null,ae=0),fl=t,Vn=e,Sn=i,qo=c,jo=r,xm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a0(ns,function(){return Zm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,r=B.p,B.p=2,d=he,he|=4;try{Kv(e,t,i)}finally{he=d,B.p=r,M.T=a}}Ve=1,km(),Vm(),Qm()}}function km(){if(Ve===1){Ve=0;var e=Vn,t=fl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var a=B.p;B.p=2;var r=he;he|=4;try{Cm(t,e);var c=tc,d=Oh(e.containerInfo),m=c.focusedElem,y=c.selectionRange;if(d!==m&&m&&m.ownerDocument&&Rh(m.ownerDocument.documentElement,m)){if(y!==null&&Ar(m)){var N=y.start,O=y.end;if(O===void 0&&(O=N),"selectionStart"in m)m.selectionStart=N,m.selectionEnd=Math.min(O,m.value.length);else{var w=m.ownerDocument||document,D=w&&w.defaultView||window;if(D.getSelection){var R=D.getSelection(),q=m.textContent.length,Q=Math.min(y.start,q),Se=y.end===void 0?Q:Math.min(y.end,q);!R.extend&&Q>Se&&(d=Se,Se=Q,Q=d);var C=Dh(m,Q),S=Dh(m,Se);if(C&&S&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var A=w.createRange();A.setStart(C.node,C.offset),R.removeAllRanges(),Q>Se?(R.addRange(A),R.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),R.addRange(A))}}}}for(w=[],R=m;R=R.parentNode;)R.nodeType===1&&w.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<w.length;m++){var x=w[m];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}hu=!!ec,tc=ec=null}finally{he=r,B.p=a,M.T=i}}e.current=t,Ve=2}}function Vm(){if(Ve===2){Ve=0;var e=Vn,t=fl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var a=B.p;B.p=2;var r=he;he|=4;try{ym(e,t.alternate,t)}finally{he=r,B.p=a,M.T=i}}Ve=3}}function Qm(){if(Ve===4||Ve===3){Ve=0,Ay();var e=Vn,t=fl,i=Sn,a=xm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ve=5:(Ve=0,fl=Vn=null,Xm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(kn=null),sr(i),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=M.T,r=B.p,B.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<a.length;d++){var m=a[d];c(m.value,{componentStack:m.stack})}}finally{M.T=t,B.p=r}}(Sn&3)!==0&&eu(),tn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Yo?pa++:(pa=0,Yo=e):pa=0,ga(0)}}function Xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function eu(){return km(),Vm(),Qm(),Zm()}function Zm(){if(Ve!==5)return!1;var e=Vn,t=qo;qo=0;var i=sr(Sn),a=M.T,r=B.p;try{B.p=32>i?32:i,M.T=null,i=jo,jo=null;var c=Vn,d=Sn;if(Ve=0,fl=Vn=null,Sn=0,(he&6)!==0)throw Error(u(331));var m=he;if(he|=4,Rm(c.current),Am(c,c.current,d,i),he=m,ga(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ll,c)}catch{}return!0}finally{B.p=r,M.T=a,Xm(e,t)}}function Km(e,t,i){t=Lt(i,t),t=vo(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(Bl(e,2),tn(e))}function pe(e,t,i){if(e.tag===3)Km(e,e,i);else for(;t!==null;){if(t.tag===3){Km(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(kn===null||!kn.has(a))){e=Lt(i,e),i=Fd(2),a=Bn(t,i,2),a!==null&&(Jd(i,a,t,e),Bl(a,2),tn(a));break}}t=t.return}}function Vo(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Wv;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(i)||(Ho=!0,r.add(i),e=n0.bind(null,e,t,i),t.then(e,e))}function n0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ce===e&&(ae&i)===i&&(ze===4||ze===3&&(ae&62914560)===ae&&300>Et()-Ks?(he&2)===0&&hl(e,0):Bo|=i,cl===ae&&(cl=0)),tn(e)}function Fm(e,t){t===0&&(t=kf()),e=hi(e,t),e!==null&&(Bl(e,t),tn(e))}function i0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Fm(e,i)}function l0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),Fm(e,i)}function a0(e,t){return nr(e,t)}var tu=null,ml=null,Qo=!1,nu=!1,Xo=!1,Xn=0;function tn(e){e!==ml&&e.next===null&&(ml===null?tu=ml=e:ml=ml.next=e),nu=!0,Qo||(Qo=!0,u0())}function ga(e,t){if(!Xo&&nu){Xo=!0;do for(var i=!1,a=tu;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var c=0;else{var d=a.suspendedLanes,m=a.pingedLanes;c=(1<<31-Ct(42|e)+1)-1,c&=r&~(d&~m),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Pm(a,c))}else c=ae,c=ss(a,a===Ce?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Hl(a,c)||(i=!0,Pm(a,c));a=a.next}while(i);Xo=!1}}function s0(){Jm()}function Jm(){nu=Qo=!1;var e=0;Xn!==0&&g0()&&(e=Xn);for(var t=Et(),i=null,a=tu;a!==null;){var r=a.next,c=Wm(a,t);c===0?(a.next=null,i===null?tu=r:i.next=r,r===null&&(ml=i)):(i=a,(e!==0||(c&3)!==0)&&(nu=!0)),a=r}Ve!==0&&Ve!==5||ga(e),Xn!==0&&(Xn=0)}function Wm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Ct(c),m=1<<d,y=r[d];y===-1?((m&i)===0||(m&a)!==0)&&(r[d]=zy(m,t)):y<=t&&(e.expiredLanes|=m),c&=~m}if(t=Ce,i=ae,i=ss(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ir(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Hl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&ir(a),sr(i)){case 2:case 8:i=Yf;break;case 32:i=ns;break;case 268435456:i=Gf;break;default:i=ns}return a=$m.bind(null,e),i=nr(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&ir(a),e.callbackPriority=2,e.callbackNode=null,2}function $m(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(eu()&&e.callbackNode!==i)return null;var a=ae;return a=ss(e,e===Ce?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(zm(e,a,t),Wm(e,Et()),e.callbackNode!=null&&e.callbackNode===i?$m.bind(null,e):null)}function Pm(e,t){if(eu())return null;zm(e,t,!0)}function u0(){v0(function(){(he&6)!==0?nr(jf,s0):Jm()})}function Zo(){if(Xn===0){var e=Pi;e===0&&(e=is,is<<=1,(is&261888)===0&&(is=256)),Xn=e}return Xn}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cs(""+e)}function t_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function r0(e,t,i,a,r){if(t==="submit"&&i&&i.stateNode===r){var c=e_((r[ct]||null).action),d=a.submitter;d&&(t=(t=d[ct]||null)?e_(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var m=new ms("action","action",null,a,r);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Xn!==0){var y=d?t_(r,d):new FormData(r);ho(i,{pending:!0,data:y,method:r.method,action:c},null,y)}}else typeof c=="function"&&(m.preventDefault(),y=d?t_(r,d):new FormData(r),ho(i,{pending:!0,data:y,method:r.method,action:c},c,y))},currentTarget:r}]})}}for(var Ko=0;Ko<Or.length;Ko++){var Fo=Or[Ko],o0=Fo.toLowerCase(),c0=Fo[0].toUpperCase()+Fo.slice(1);kt(o0,"on"+c0)}kt(wh,"onAnimationEnd"),kt(zh,"onAnimationIteration"),kt(Uh,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(Nv,"onTransitionRun"),kt(Dv,"onTransitionStart"),kt(Rv,"onTransitionCancel"),kt(Lh,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function n_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],r=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var m=a[d],y=m.instance,N=m.currentTarget;if(m=m.listener,y!==c&&r.isPropagationStopped())break e;c=m,r.currentTarget=N;try{c(r)}catch(O){gs(O)}r.currentTarget=null,c=y}else for(d=0;d<a.length;d++){if(m=a[d],y=m.instance,N=m.currentTarget,m=m.listener,y!==c&&r.isPropagationStopped())break e;c=m,r.currentTarget=N;try{c(r)}catch(O){gs(O)}r.currentTarget=null,c=y}}}}function ie(e,t){var i=t[ur];i===void 0&&(i=t[ur]=new Set);var a=e+"__bubble";i.has(a)||(i_(t,e,2,!1),i.add(a))}function Jo(e,t,i){var a=0;t&&(a|=4),i_(i,e,a,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[iu]){e[iu]=!0,Jf.forEach(function(i){i!=="selectionchange"&&(f0.has(i)||Jo(i,!1,e),Jo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,Jo("selectionchange",!1,t))}}function i_(e,t,i,a){switch(w_(t)){case 2:var r=q0;break;case 8:r=j0;break;default:r=hc}i=r.bind(null,t,i,e),r=void 0,!pr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function $o(e,t,i,a,r){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var m=a.stateNode.containerInfo;if(m===r)break;if(d===4)for(d=a.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===r)return;d=d.return}for(;m!==null;){if(d=Hi(m),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){a=c=d;continue e}m=m.parentNode}}a=a.return}rh(function(){var N=c,O=mr(i),w=[];e:{var D=Hh.get(e);if(D!==void 0){var R=ms,q=e;switch(e){case"keypress":if(hs(i)===0)break e;case"keydown":case"keyup":R=lv;break;case"focusin":q="focus",R=Sr;break;case"focusout":q="blur",R=Sr;break;case"beforeblur":case"afterblur":R=Sr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=uv;break;case wh:case zh:case Uh:R=Fy;break;case Lh:R=ov;break;case"scroll":case"scrollend":R=Vy;break;case"wheel":R=fv;break;case"copy":case"cut":case"paste":R=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=dh;break;case"toggle":case"beforetoggle":R=dv}var Q=(t&4)!==0,Se=!Q&&(e==="scroll"||e==="scrollend"),C=Q?D!==null?D+"Capture":null:D;Q=[];for(var S=N,A;S!==null;){var x=S;if(A=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||A===null||C===null||(x=jl(S,C),x!=null&&Q.push(va(S,x,A))),Se)break;S=S.return}0<Q.length&&(D=new R(D,q,null,i,O),w.push({event:D,listeners:Q}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",D&&i!==dr&&(q=i.relatedTarget||i.fromElement)&&(Hi(q)||q[Li]))break e;if((R||D)&&(D=O.window===O?O:(D=O.ownerDocument)?D.defaultView||D.parentWindow:window,R?(q=i.relatedTarget||i.toElement,R=N,q=q?Hi(q):null,q!==null&&(Se=f(q),Q=q.tag,q!==Se||Q!==5&&Q!==27&&Q!==6)&&(q=null)):(R=null,q=N),R!==q)){if(Q=fh,x="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Q=dh,x="onPointerLeave",C="onPointerEnter",S="pointer"),Se=R==null?D:ql(R),A=q==null?D:ql(q),D=new Q(x,S+"leave",R,i,O),D.target=Se,D.relatedTarget=A,x=null,Hi(O)===N&&(Q=new Q(C,S+"enter",q,i,O),Q.target=A,Q.relatedTarget=Se,x=Q),Se=x,R&&q)t:{for(Q=h0,C=R,S=q,A=0,x=C;x;x=Q(x))A++;x=0;for(var k=S;k;k=Q(k))x++;for(;0<A-x;)C=Q(C),A--;for(;0<x-A;)S=Q(S),x--;for(;A--;){if(C===S||S!==null&&C===S.alternate){Q=C;break t}C=Q(C),S=Q(S)}Q=null}else Q=null;R!==null&&l_(w,D,R,Q,!1),q!==null&&Se!==null&&l_(w,Se,q,Q,!0)}}e:{if(D=N?ql(N):window,R=D.nodeName&&D.nodeName.toLowerCase(),R==="select"||R==="input"&&D.type==="file")var ce=Eh;else if(vh(D))if(bh)ce=Cv;else{ce=Ev;var Y=Sv}else R=D.nodeName,!R||R.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?N&&hr(N.elementType)&&(ce=Eh):ce=bv;if(ce&&(ce=ce(e,N))){Sh(w,ce,i,O);break e}Y&&Y(e,D,N),e==="focusout"&&N&&D.type==="number"&&N.memoizedProps.value!=null&&fr(D,"number",D.value)}switch(Y=N?ql(N):window,e){case"focusin":(vh(Y)||Y.contentEditable==="true")&&(Qi=Y,Nr=N,Kl=null);break;case"focusout":Kl=Nr=Qi=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Mh(w,i,O);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Mh(w,i,O)}var $;if(br)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Vi?gh(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(mh&&i.locale!=="ko"&&(Vi||se!=="onCompositionStart"?se==="onCompositionEnd"&&Vi&&($=oh()):(Mn=O,gr="value"in Mn?Mn.value:Mn.textContent,Vi=!0)),Y=lu(N,se),0<Y.length&&(se=new hh(se,e,null,i,O),w.push({event:se,listeners:Y}),$?se.data=$:($=yh(i),$!==null&&(se.data=$)))),($=_v?pv(e,i):gv(e,i))&&(se=lu(N,"onBeforeInput"),0<se.length&&(Y=new hh("onBeforeInput","beforeinput",null,i,O),w.push({event:Y,listeners:se}),Y.data=$)),r0(w,e,N,i,O)}n_(w,t)})}function va(e,t,i){return{instance:e,listener:t,currentTarget:i}}function lu(e,t){for(var i=t+"Capture",a=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=jl(e,i),r!=null&&a.unshift(va(e,r,c)),r=jl(e,t),r!=null&&a.push(va(e,r,c))),e.tag===3)return a;e=e.return}return[]}function h0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,t,i,a,r){for(var c=t._reactName,d=[];i!==null&&i!==a;){var m=i,y=m.alternate,N=m.stateNode;if(m=m.tag,y!==null&&y===a)break;m!==5&&m!==26&&m!==27||N===null||(y=N,r?(N=jl(i,c),N!=null&&d.unshift(va(i,N,y))):r||(N=jl(i,c),N!=null&&d.push(va(i,N,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var d0=/\r\n?/g,m0=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(m0,"")}function s_(e,t){return t=a_(t),a_(e)===t}function ve(e,t,i,a,r,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Yi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Yi(e,""+a);break;case"className":rs(e,"class",a);break;case"tabIndex":rs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,i,a);break;case"style":sh(e,a,c);break;case"data":if(t!=="object"){rs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=cs(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&ve(e,t,"name",r.name,r,null),ve(e,t,"formEncType",r.formEncType,r,null),ve(e,t,"formMethod",r.formMethod,r,null),ve(e,t,"formTarget",r.formTarget,r,null)):(ve(e,t,"encType",r.encType,r,null),ve(e,t,"method",r.method,r,null),ve(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=cs(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=an);break;case"onScroll":a!=null&&ie("scroll",e);break;case"onScrollEnd":a!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=cs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ie("beforetoggle",e),ie("toggle",e),us(e,"popover",a);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":us(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gy.get(i)||i,us(e,i,a))}}function Po(e,t,i,a,r,c){switch(i){case"style":sh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Yi(e,a):(typeof a=="number"||typeof a=="bigint")&&Yi(e,""+a);break;case"onScroll":a!=null&&ie("scroll",e);break;case"onScrollEnd":a!=null&&ie("scrollend",e);break;case"onClick":a!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),c=e[ct]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,r);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):us(e,i,a)}}}function tt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var a=!1,r=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:ve(e,t,c,d,i,null)}}r&&ve(e,t,"srcSet",i.srcSet,i,null),a&&ve(e,t,"src",i.src,i,null);return;case"input":ie("invalid",e);var m=c=d=r=null,y=null,N=null;for(a in i)if(i.hasOwnProperty(a)){var O=i[a];if(O!=null)switch(a){case"name":r=O;break;case"type":d=O;break;case"checked":y=O;break;case"defaultChecked":N=O;break;case"value":c=O;break;case"defaultValue":m=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(u(137,t));break;default:ve(e,t,a,O,i,null)}}nh(e,c,m,y,N,d,r,!1);return;case"select":ie("invalid",e),a=d=c=null;for(r in i)if(i.hasOwnProperty(r)&&(m=i[r],m!=null))switch(r){case"value":c=m;break;case"defaultValue":d=m;break;case"multiple":a=m;default:ve(e,t,r,m,i,null)}t=c,i=d,e.multiple=!!a,t!=null?ji(e,!!a,t,!1):i!=null&&ji(e,!!a,i,!0);return;case"textarea":ie("invalid",e),c=r=a=null;for(d in i)if(i.hasOwnProperty(d)&&(m=i[d],m!=null))switch(d){case"value":a=m;break;case"defaultValue":r=m;break;case"children":c=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(u(91));break;default:ve(e,t,d,m,i,null)}lh(e,a,r,c);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(a=i[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ve(e,t,y,a,i,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(a=0;a<ya.length;a++)ie(ya[a],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:ve(e,t,N,a,i,null)}return;default:if(hr(t)){for(O in i)i.hasOwnProperty(O)&&(a=i[O],a!==void 0&&Po(e,t,O,a,i,void 0));return}}for(m in i)i.hasOwnProperty(m)&&(a=i[m],a!=null&&ve(e,t,m,a,i,null))}function _0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,d=null,m=null,y=null,N=null,O=null;for(R in i){var w=i[R];if(i.hasOwnProperty(R)&&w!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":y=w;default:a.hasOwnProperty(R)||ve(e,t,R,null,a,w)}}for(var D in a){var R=a[D];if(w=i[D],a.hasOwnProperty(D)&&(R!=null||w!=null))switch(D){case"type":c=R;break;case"name":r=R;break;case"checked":N=R;break;case"defaultChecked":O=R;break;case"value":d=R;break;case"defaultValue":m=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:R!==w&&ve(e,t,D,R,a,w)}}cr(e,d,m,y,N,O,c,r);return;case"select":R=d=m=D=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":R=y;default:a.hasOwnProperty(c)||ve(e,t,c,null,a,y)}for(r in a)if(c=a[r],y=i[r],a.hasOwnProperty(r)&&(c!=null||y!=null))switch(r){case"value":D=c;break;case"defaultValue":m=c;break;case"multiple":d=c;default:c!==y&&ve(e,t,r,c,a,y)}t=m,i=d,a=R,D!=null?ji(e,!!i,D,!1):!!a!=!!i&&(t!=null?ji(e,!!i,t,!0):ji(e,!!i,i?[]:"",!1));return;case"textarea":R=D=null;for(m in i)if(r=i[m],i.hasOwnProperty(m)&&r!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:ve(e,t,m,null,a,r)}for(d in a)if(r=a[d],c=i[d],a.hasOwnProperty(d)&&(r!=null||c!=null))switch(d){case"value":D=r;break;case"defaultValue":R=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(u(91));break;default:r!==c&&ve(e,t,d,r,a,c)}ih(e,D,R);return;case"option":for(var q in i)if(D=i[q],i.hasOwnProperty(q)&&D!=null&&!a.hasOwnProperty(q))switch(q){case"selected":e.selected=!1;break;default:ve(e,t,q,null,a,D)}for(y in a)if(D=a[y],R=i[y],a.hasOwnProperty(y)&&D!==R&&(D!=null||R!=null))switch(y){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:ve(e,t,y,D,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in i)D=i[Q],i.hasOwnProperty(Q)&&D!=null&&!a.hasOwnProperty(Q)&&ve(e,t,Q,null,a,D);for(N in a)if(D=a[N],R=i[N],a.hasOwnProperty(N)&&D!==R&&(D!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(u(137,t));break;default:ve(e,t,N,D,a,R)}return;default:if(hr(t)){for(var Se in i)D=i[Se],i.hasOwnProperty(Se)&&D!==void 0&&!a.hasOwnProperty(Se)&&Po(e,t,Se,void 0,a,D);for(O in a)D=a[O],R=i[O],!a.hasOwnProperty(O)||D===R||D===void 0&&R===void 0||Po(e,t,O,D,a,R);return}}for(var C in i)D=i[C],i.hasOwnProperty(C)&&D!=null&&!a.hasOwnProperty(C)&&ve(e,t,C,null,a,D);for(w in a)D=a[w],R=i[w],!a.hasOwnProperty(w)||D===R||D==null&&R==null||ve(e,t,w,D,a,R)}function u_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var r=i[a],c=r.transferSize,d=r.initiatorType,m=r.duration;if(c&&m&&u_(d)){for(d=0,m=r.responseEnd,a+=1;a<i.length;a++){var y=i[a],N=y.startTime;if(N>m)break;var O=y.transferSize,w=y.initiatorType;O&&u_(w)&&(y=y.responseEnd,d+=O*(y<m?1:(m-N)/(y-N)))}if(--a,t+=8*(c+d)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ec=null,tc=null;function au(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=null;function g0(){var e=window.event;return e&&e.type==="popstate"?e===ic?!1:(ic=e,!0):(ic=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,y0=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(S0)}:c_;function S0(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function h_(e,t){var i=t,a=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(r),yl(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Sa(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Sa(i);for(var c=i.firstChild;c;){var d=c.nextSibling,m=c.nodeName;c[Il]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&Sa(e.ownerDocument.body);i=r}while(i);yl(t)}function d_(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":lc(i),rr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function E0(e,t,i,a){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function b0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jt(e.nextSibling),e===null))return null;return e}function m_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function ac(e){return e.data==="$?"||e.data==="$~"}function sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uc=null;function __(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return jt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function p_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function g_(e,t,i){switch(t=au(i),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Sa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rr(e)}var Yt=new Map,y_=new Set;function su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=B.d;B.d={f:T0,r:A0,D:N0,C:D0,L:R0,m:O0,X:x0,S:M0,M:w0};function T0(){var e=En.f(),t=Ws();return e||t}function A0(e){var t=Bi(e);t!==null&&t.tag===5&&t.type==="form"?Ld(t):En.r(e)}var _l=typeof document>"u"?null:document;function v_(e,t,i){var a=_l;if(a&&typeof t=="string"&&t){var r=zt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),y_.has(r)||(y_.add(r),e={rel:e,crossOrigin:i,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),tt(t,"link",e),Xe(t),a.head.appendChild(t)))}}function N0(e){En.D(e),v_("dns-prefetch",e,null)}function D0(e,t){En.C(e,t),v_("preconnect",e,t)}function R0(e,t,i){En.L(e,t,i);var a=_l;if(a&&e&&t){var r='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+zt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+zt(i.imageSizes)+'"]')):r+='[href="'+zt(e)+'"]';var c=r;switch(t){case"style":c=pl(e);break;case"script":c=gl(e)}Yt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Yt.set(c,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(Ea(c))||t==="script"&&a.querySelector(ba(c))||(t=a.createElement("link"),tt(t,"link",e),Xe(t),a.head.appendChild(t)))}}function O0(e,t){En.m(e,t);var i=_l;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+zt(a)+'"][href="'+zt(e)+'"]',c=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=gl(e)}if(!Yt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Yt.set(c,e),i.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ba(c)))return}a=i.createElement("link"),tt(a,"link",e),Xe(a),i.head.appendChild(a)}}}function M0(e,t,i){En.S(e,t,i);var a=_l;if(a&&e){var r=Ii(a).hoistableStyles,c=pl(e);t=t||"default";var d=r.get(c);if(!d){var m={loading:0,preload:null};if(d=a.querySelector(Ea(c)))m.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Yt.get(c))&&rc(e,i);var y=d=a.createElement("link");Xe(y),tt(y,"link",e),y._p=new Promise(function(N,O){y.onload=N,y.onerror=O}),y.addEventListener("load",function(){m.loading|=1}),y.addEventListener("error",function(){m.loading|=2}),m.loading|=4,uu(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:m},r.set(c,d)}}}function x0(e,t){En.X(e,t);var i=_l;if(i&&e){var a=Ii(i).hoistableScripts,r=gl(e),c=a.get(r);c||(c=i.querySelector(ba(r)),c||(e=v({src:e,async:!0},t),(t=Yt.get(r))&&oc(e,t),c=i.createElement("script"),Xe(c),tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function w0(e,t){En.M(e,t);var i=_l;if(i&&e){var a=Ii(i).hoistableScripts,r=gl(e),c=a.get(r);c||(c=i.querySelector(ba(r)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Yt.get(r))&&oc(e,t),c=i.createElement("script"),Xe(c),tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function S_(e,t,i,a){var r=(r=te.current)?su(r):null;if(!r)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=pl(i.href),i=Ii(r).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=pl(i.href);var c=Ii(r).hoistableStyles,d=c.get(e);if(d||(r=r.ownerDocument||r,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=r.querySelector(Ea(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Yt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Yt.set(e,i),c||z0(r,e,i,d.state))),t&&a===null)throw Error(u(528,""));return d}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gl(i),i=Ii(r).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function pl(e){return'href="'+zt(e)+'"'}function Ea(e){return'link[rel="stylesheet"]['+e+"]"}function E_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),tt(t,"link",i),Xe(t),e.head.appendChild(t))}function gl(e){return'[src="'+zt(e)+'"]'}function ba(e){return"script[async]"+e}function b_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+zt(i.href)+'"]');if(a)return t.instance=a,Xe(a),a;var r=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Xe(a),tt(a,"style",r),uu(a,i.precedence,e),t.instance=a;case"stylesheet":r=pl(i.href);var c=e.querySelector(Ea(r));if(c)return t.state.loading|=4,t.instance=c,Xe(c),c;a=E_(i),(r=Yt.get(r))&&rc(a,r),c=(e.ownerDocument||e).createElement("link"),Xe(c);var d=c;return d._p=new Promise(function(m,y){d.onload=m,d.onerror=y}),tt(c,"link",a),t.state.loading|=4,uu(c,i.precedence,e),t.instance=c;case"script":return c=gl(i.src),(r=e.querySelector(ba(c)))?(t.instance=r,Xe(r),r):(a=i,(r=Yt.get(c))&&(a=v({},i),oc(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Xe(r),tt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,uu(a,i.precedence,e));return t.instance}function uu(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,c=r,d=0;d<a.length;d++){var m=a[d];if(m.dataset.precedence===t)c=m;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function C_(e,t,i){if(ru===null){var a=new Map,r=ru=new Map;r.set(i,a)}else r=ru,a=r.get(i),a||(a=new Map,r.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var c=i[r];if(!(c[Il]||c[We]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var m=a.get(d);m?m.push(c):a.set(d,[c])}}return a}function T_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function U0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function L0(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=pl(a.href),c=t.querySelector(Ea(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ou.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,Xe(c);return}c=t.ownerDocument||t,a=E_(a),(r=Yt.get(r))&&rc(a,r),c=c.createElement("link"),Xe(c);var d=c;d._p=new Promise(function(m,y){d.onload=m,d.onerror=y}),tt(c,"link",a),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ou.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var cc=0;function H0(e,t){return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&cc===0&&(cc=62500*p0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>cc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cu=null;function fu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cu=new Map,t.forEach(B0,e),cu=null,ou.call(e))}function B0(e,t){if(!(t.state.loading&4)){var i=cu.get(e);if(i)var a=i.get(null);else{i=new Map,cu.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var d=r[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}r=t.instance,d=r.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,r),i.set(d,r),this.count++,a=ou.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ca={$$typeof:G,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function I0(e,t,i,a,r,c,d,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function N_(e,t,i,a,r,c,d,m,y,N,O,w){return e=new I0(e,t,i,d,y,N,O,w,m),t=1,c===!0&&(t|=24),c=At(3,null,null,t),e.current=c,c.stateNode=e,t=Gr(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},Xr(c),e}function D_(e){return e?(e=Ki,e):Ki}function R_(e,t,i,a,r,c){r=D_(r),a.context===null?a.context=r:a.pendingContext=r,a=Hn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Bn(e,a,t),i!==null&&(pt(i,e,t),ta(i,e,t))}function O_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function fc(e,t){O_(e,t),(e=e.alternate)&&O_(e,t)}function M_(e){if(e.tag===13||e.tag===31){var t=hi(e,67108864);t!==null&&pt(t,e,67108864),fc(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var t=Mt();t=ar(t);var i=hi(e,t);i!==null&&pt(i,e,t),fc(e,t)}}var hu=!0;function q0(e,t,i,a){var r=M.T;M.T=null;var c=B.p;try{B.p=2,hc(e,t,i,a)}finally{B.p=c,M.T=r}}function j0(e,t,i,a){var r=M.T;M.T=null;var c=B.p;try{B.p=8,hc(e,t,i,a)}finally{B.p=c,M.T=r}}function hc(e,t,i,a){if(hu){var r=dc(a);if(r===null)$o(e,t,a,du,i),z_(e,a);else if(G0(r,e,t,i,a))a.stopPropagation();else if(z_(e,a),t&4&&-1<Y0.indexOf(e)){for(;r!==null;){var c=Bi(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=ui(c.pendingLanes);if(d!==0){var m=c;for(m.pendingLanes|=2,m.entangledLanes|=2;d;){var y=1<<31-Ct(d);m.entanglements[1]|=y,d&=~y}tn(c),(he&6)===0&&(Fs=Et()+500,ga(0))}}break;case 31:case 13:m=hi(c,2),m!==null&&pt(m,c,2),Ws(),fc(c,2)}if(c=dc(a),c===null&&$o(e,t,a,du,i),c===r)break;r=c}r!==null&&a.stopPropagation()}else $o(e,t,a,null,i)}}function dc(e){return e=mr(e),mc(e)}var du=null;function mc(e){if(du=null,e=Hi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=_(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return du=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ny()){case jf:return 2;case Yf:return 8;case ns:case Dy:return 32;case Gf:return 268435456;default:return 32}default:return 32}}var _c=!1,Kn=null,Fn=null,Jn=null,Ta=new Map,Aa=new Map,Wn=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function Na(e,t,i,a,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Bi(t),t!==null&&M_(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function G0(e,t,i,a,r){switch(t){case"focusin":return Kn=Na(Kn,e,t,i,a,r),!0;case"dragenter":return Fn=Na(Fn,e,t,i,a,r),!0;case"mouseover":return Jn=Na(Jn,e,t,i,a,r),!0;case"pointerover":var c=r.pointerId;return Ta.set(c,Na(Ta.get(c)||null,e,t,i,a,r)),!0;case"gotpointercapture":return c=r.pointerId,Aa.set(c,Na(Aa.get(c)||null,e,t,i,a,r)),!0}return!1}function U_(e){var t=Hi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Kf(e.priority,function(){x_(i)});return}}else if(t===31){if(t=_(i),t!==null){e.blockedOn=t,Kf(e.priority,function(){x_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=dc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);dr=a,i.target.dispatchEvent(a),dr=null}else return t=Bi(i),t!==null&&M_(t),e.blockedOn=i,!1;t.shift()}return!0}function L_(e,t,i){mu(e)&&i.delete(t)}function k0(){_c=!1,Kn!==null&&mu(Kn)&&(Kn=null),Fn!==null&&mu(Fn)&&(Fn=null),Jn!==null&&mu(Jn)&&(Jn=null),Ta.forEach(L_),Aa.forEach(L_)}function _u(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,k0)))}var pu=null;function H_(e){pu!==e&&(pu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pu===e&&(pu=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(mc(a||i)===null)continue;break}var c=Bi(i);c!==null&&(e.splice(t,3),t-=3,ho(c,{pending:!0,data:r,method:i.method,action:a},a,r))}}))}function yl(e){function t(y){return _u(y,e)}Kn!==null&&_u(Kn,e),Fn!==null&&_u(Fn,e),Jn!==null&&_u(Jn,e),Ta.forEach(t),Aa.forEach(t);for(var i=0;i<Wn.length;i++){var a=Wn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)U_(i),i.blockedOn===null&&Wn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var r=i[a],c=i[a+1],d=r[ct]||null;if(typeof c=="function")d||H_(i);else if(d){var m=null;if(c&&c.hasAttribute("formAction")){if(r=c,d=c[ct]||null)m=d.formAction;else if(mc(r)!==null)continue}else m=d.action;typeof m=="function"?i[a+1]=m:(i.splice(a,3),a-=3),H_(i)}}}function B_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return r=d})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function pc(e){this._internalRoot=e}gu.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var i=t.current,a=Mt();R_(i,a,e,t,null,null)},gu.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;R_(e.current,2,null,e,null,null),Ws(),t[Li]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&U_(e)}};var I_=n.version;if(I_!=="19.2.0")throw Error(u(527,I_,"19.2.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=p(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var V0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Ll=yu.inject(V0),bt=yu}catch{}}return Ra.createRoot=function(e,t){if(!o(e))throw Error(u(299));var i=!1,a="",r=Qd,c=Xd,d=Zd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=N_(e,1,!1,null,null,i,a,null,r,c,d,B_),e[Li]=t.current,Wo(e),new pc(t)},Ra.hydrateRoot=function(e,t,i){if(!o(e))throw Error(u(299));var a=!1,r="",c=Qd,d=Xd,m=Zd,y=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.formState!==void 0&&(y=i.formState)),t=N_(e,1,!0,t,i??null,a,r,y,c,d,m,B_),t.context=D_(null),i=t.current,a=Mt(),a=ar(a),r=Hn(a),r.callback=null,Bn(i,r,a),i=a,t.current.lanes=i,Bl(t,i),tn(t),e[Li]=t.current,Wo(e),new gu(t)},Ra.version="19.2.0",Ra}var K_;function t1(){if(K_)return vc.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),vc.exports=e1(),vc.exports}var n1=t1();const i1=kp(n1),Vp=Ue.createContext(null),l1=({children:s})=>{const[n,l]=Ue.useState(JSON.parse(localStorage.getItem("currentUser"))||null),u=f=>{l(f),localStorage.setItem("currentUser",JSON.stringify(f))},o=()=>{l(null),localStorage.removeItem("currentUser")};return V.jsx(Vp.Provider,{value:{currentUser:n,role:n?.role||null,login:u,logout:o},children:s})},Qp=()=>Ue.useContext(Vp);function a1(){return{login:(n,l)=>{const u=JSON.parse(localStorage.getItem("authData"));if(!u)return null;const f=Object.values(u).find(h=>h.username===n&&h.password===l);return f?{username:f.username,role:f.role}:null}}}function s1(){const{login:s}=Qp(),{login:n}=a1(),[l,u]=Ue.useState(""),[o,f]=Ue.useState(""),[h,_]=Ue.useState(""),g=p=>{p.preventDefault();const T=n(l,o);T?s(T):_("")};return V.jsxs("div",{className:"login-page flex flex-col items-center justify-center min-h-screen",children:[V.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),V.jsxs("form",{className:"flex flex-col gap-2",onSubmit:g,children:[V.jsx("input",{type:"text",placeholder:"",value:l,onChange:p=>u(p.target.value),className:"border px-2 py-1"}),V.jsx("input",{type:"password",placeholder:"",value:o,onChange:p=>f(p.target.value),className:"border px-2 py-1"}),h&&V.jsx("div",{className:"text-red-500 text-sm",children:h}),V.jsx("button",{type:"submit",className:"px-3 py-1 border rounded bg-blue-100 mt-2",children:""})]})]})}function u1({book:s,onToggleLoan:n,onEdit:l,onDelete:u}){const[o,f]=Ue.useState(s.studentId||"");Ue.useEffect(()=>{f(s.studentId||"")},[s.studentId]);const h=()=>{if(!o.trim()&&!s.studentId){alert("");return}n({...s,studentId:s.studentId?"":o})};return V.jsxs("div",{className:"book-item border p-2 rounded flex justify-between items-center",children:[V.jsxs("div",{className:"flex flex-col gap-1",children:[V.jsx("div",{className:"font-semibold",children:s.title}),V.jsx("div",{className:"flex gap-1 flex-wrap text-sm text-gray-600",children:s.tags?.map(_=>V.jsx("span",{className:"bg-gray-200 px-2 py-0.5 rounded",children:_},_))}),s.studentId?V.jsxs("div",{className:"text-red-500 text-xs mt-1",children:[": ",s.studentId]}):V.jsx("input",{type:"text",placeholder:"",value:o,onChange:_=>f(_.target.value),className:"border px-2 py-1 text-sm mt-1"})]}),V.jsxs("div",{className:"flex gap-2",children:[n&&V.jsx("button",{className:`px-2 py-1 border rounded ${s.studentId?"bg-red-100":"bg-green-100"}`,onClick:h,children:s.studentId?"":""}),l&&V.jsx("button",{className:"px-2 py-1 border rounded bg-blue-100",onClick:()=>l(s),children:""}),u&&V.jsx("button",{className:"px-2 py-1 border rounded bg-gray-100",onClick:()=>u(s.id),children:""})]})]})}function r1({isOpen:s,book:n,onClose:l,onSave:u}){const[o,f]=Ue.useState(""),[h,_]=Ue.useState([]),[g,p]=Ue.useState("");if(Ue.useEffect(()=>{n?(f(n.title||""),_(n.tags||[])):(f(""),_([])),p("")},[n]),!s)return null;const T=()=>{g&&!h.includes(g)&&_([...h,g]),p("")},v=U=>_(h.filter(H=>H!==U)),E=()=>{u({...n,title:o,tags:h})};return V.jsx("div",{className:"modal fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:V.jsxs("div",{className:"modal-content bg-white p-4 rounded-lg w-96",children:[V.jsx("h2",{className:"text-lg font-semibold mb-2",children:n?.id?"":""}),V.jsxs("div",{className:"mb-2",children:[V.jsx("label",{className:"block text-sm",children:""}),V.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:o,onChange:U=>f(U.target.value)})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-sm",children:""}),V.jsxs("div",{className:"flex gap-2 mb-1",children:[V.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",value:g,onChange:U=>p(U.target.value),onKeyDown:U=>U.key==="Enter"&&T(),placeholder:"Enter "}),V.jsx("button",{className:"px-2 py-1 border rounded",onClick:T,children:""})]}),V.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(U=>V.jsxs("span",{className:"px-2 py-1 bg-gray-200 rounded cursor-pointer",onClick:()=>v(U),children:[U," "]},U))})]}),V.jsxs("div",{className:"flex justify-end space-x-2",children:[V.jsx("button",{className:"px-3 py-1 border rounded",onClick:l,children:""}),V.jsx("button",{className:"px-3 py-1 bg-blue-100 rounded border",onClick:E,children:""})]})]})})}const o1=()=>{};var F_={};const Xp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const L=function(s,n){if(!s)throw Ol(n)},Ol=function(s){return new Error("Firebase Database ("+Xp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const Zp=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&u+1<s.length&&(s.charCodeAt(u+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++u)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},c1=function(s){const n=[];let l=0,u=0;for(;l<s.length;){const o=s[l++];if(o<128)n[u++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[u++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],h=s[l++],_=s[l++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[u++]=String.fromCharCode(55296+(g>>10)),n[u++]=String.fromCharCode(56320+(g&1023))}else{const f=s[l++],h=s[l++];n[u++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let o=0;o<s.length;o+=3){const f=s[o],h=o+1<s.length,_=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,T=f>>2,v=(f&3)<<4|_>>4;let E=(_&15)<<2|p>>6,U=p&63;g||(U=64,h||(E=64)),u.push(l[T],l[v],l[E],l[U])}return u.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Zp(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):c1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],_=o<s.length?l[s.charAt(o)]:0;++o;const p=o<s.length?l[s.charAt(o)]:64;++o;const v=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||_==null||p==null||v==null)throw new f1;const E=f<<2|_>>4;if(u.push(E),p!==64){const U=_<<4&240|p>>2;if(u.push(U),v!==64){const H=p<<6&192|v;u.push(H)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class f1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kp=function(s){const n=Zp(s);return ef.encodeByteArray(n,!0)},Tu=function(s){return Kp(s).replace(/\./g,"")},Lc=function(s){try{return ef.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function h1(s){return Fp(void 0,s)}function Fp(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!d1(l)||(s[l]=Fp(s[l],n[l]));return s}function d1(s){return s!=="__proto__"}function m1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _1=()=>m1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},g1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Lc(s[1]);return n&&JSON.parse(n)},Jp=()=>{try{return o1()||_1()||p1()||g1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y1=s=>Jp()?.emulatorHosts?.[s],v1=s=>{const n=y1(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const u=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),u]:[n.substring(0,l),u]},Wp=()=>Jp()?.config;class Gu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,u)=>{l?this.reject(l):this.resolve(u),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,u))}}}function tf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S1(s){return(await fetch(s,{credentials:"include"})).ok}function E1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},u=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${u}`,aud:u,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Tu(JSON.stringify(l)),Tu(JSON.stringify(h)),""].join(".")}const za={};function b1(){const s={prod:[],emulator:[]};for(const n of Object.keys(za))za[n]?s.emulator.push(n):s.prod.push(n);return s}function C1(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let J_=!1;function T1(s,n){if(typeof window>"u"||typeof document>"u"||!tf(window.location.host)||za[s]===n||za[s]||J_)return;za[s]=n;function l(E){return`__firebase__banner__${E}`}const u="__firebase__banner",f=b1().prod.length>0;function h(){const E=document.getElementById(u);E&&E.remove()}function _(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,U){E.setAttribute("width","24"),E.setAttribute("id",U),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{J_=!0,h()},E}function T(E,U){E.setAttribute("id",U),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=C1(u),U=l("text"),H=document.getElementById(U)||document.createElement("span"),X=l("learnmore"),oe=document.getElementById(X)||document.createElement("a"),Ee=l("preprendIcon"),He=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;_(G),T(oe,X);const De=p();g(He,Ee),G.append(He,H,oe,De),document.body.appendChild(G)}f?(H.innerText="Preview backend disconnected.",He.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(He.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $p(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A1())}function N1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){return Xp.NODE_ADMIN===!0}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((s,n)=>{try{let l=!0;const u="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(u);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(u),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const M1="FirebaseError";class Fa extends Error{constructor(n,l,u){super(l),this.code=n,this.customData=u,this.name=M1,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pp.prototype.create)}}class Pp{constructor(n,l,u){this.service=n,this.serviceName=l,this.errors=u}create(n,...l){const u=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?x1(f,u):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new Fa(o,_,u)}}function x1(s,n){return s.replace(w1,(l,u)=>{const o=n[u];return o!=null?String(o):`<${u}?>`})}const w1=/\{\$([^}]+)}/g;function qa(s){return JSON.parse(s)}function Je(s){return JSON.stringify(s)}const eg=function(s){let n={},l={},u={},o="";try{const f=s.split(".");n=qa(Lc(f[0])||""),l=qa(Lc(f[1])||""),o=f[2],u=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:u,signature:o}},z1=function(s){const n=eg(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},U1=function(s){const n=eg(s).claims;return typeof n=="object"&&n.admin===!0};function Dn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Al(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function W_(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Au(s,n,l){const u={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(u[o]=n.call(l,s[o],o,s));return u}function Nu(s,n){if(s===n)return!0;const l=Object.keys(s),u=Object.keys(n);for(const o of l){if(!u.includes(o))return!1;const f=s[o],h=n[o];if($_(f)&&$_(h)){if(!Nu(f,h))return!1}else if(f!==h)return!1}for(const o of u)if(!l.includes(o))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function L1(s){const n=[];for(const[l,u]of Object.entries(s))Array.isArray(u)?u.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(u));return n.length?"&"+n.join("&"):""}class H1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const u=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)u[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)u[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const E=u[v-3]^u[v-8]^u[v-14]^u[v-16];u[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],g=this.chain_[4],p,T;for(let v=0;v<80;v++){v<40?v<20?(p=_^f&(h^_),T=1518500249):(p=f^h^_,T=1859775393):v<60?(p=f&h|_&(f|h),T=2400959708):(p=f^h^_,T=3395469782);const E=(o<<5|o>>>27)+p+g+T+u[v]&4294967295;g=_,_=h,h=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const u=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=u;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let u=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[u]=this.chain_[o]>>f&255,++u;return n}}function nf(s,n){return`${s} failed: ${n} argument `}const B1=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);if(o>=55296&&o<=56319){const f=o-55296;u++,L(u<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(u)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},ku=function(s){let n=0;for(let l=0;l<s.length;l++){const u=s.charCodeAt(l);u<128?n++:u<2048?n+=2:u>=55296&&u<=56319?(n+=4,l++):n+=3}return n};function Ml(s){return s&&s._delegate?s._delegate:s}class ja{constructor(n,l,u){this.name=n,this.instanceFactory=l,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ai="[DEFAULT]";class I1{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const u=new Gu;if(this.instancesDeferred.set(l,u),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&u.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),u=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(u)return null;throw o}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(j1(n))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[l,u]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});u.resolve(f)}catch{}}}}clearInstance(n=Ai){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ai){return this.instances.has(n)}getOptions(n=Ai){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,u=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:u,options:l});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);u===_&&h.resolve(o)}return o}onInit(n,l){const u=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(u)??new Set;o.add(n),this.onInitCallbacks.set(u,o);const f=this.instances.get(u);return f&&n(f,u),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const u=this.onInitCallbacks.get(l);if(u)for(const o of u)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:q1(n),options:l}),this.instances.set(n,u),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null}normalizeInstanceIdentifier(n=Ai){return this.component?this.component.multipleInstances?n:Ai:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q1(s){return s===Ai?void 0:s}function j1(s){return s.instantiationMode==="EAGER"}class Y1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new I1(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ae||(Ae={}));const G1={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},k1=Ae.INFO,V1={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Q1=(s,n,...l)=>{if(n<s.logLevel)return;const u=new Date().toISOString(),o=V1[n];if(o)console[o](`[${u}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class tg{constructor(n){this.name=n,this._logLevel=k1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ae))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?G1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...n),this._logHandler(this,Ae.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...n),this._logHandler(this,Ae.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...n),this._logHandler(this,Ae.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...n),this._logHandler(this,Ae.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...n),this._logHandler(this,Ae.ERROR,...n)}}const X1=(s,n)=>n.some(l=>s instanceof l);let P_,ep;function Z1(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return ep||(ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ng=new WeakMap,Hc=new WeakMap,ig=new WeakMap,Cc=new WeakMap,lf=new WeakMap;function F1(s){const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(Pn(s.result)),o()},h=()=>{u(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&ng.set(l,s)}).catch(()=>{}),lf.set(n,s),n}function J1(s){if(Hc.has(s))return;const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{u(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Hc.set(s,n)}let Bc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Hc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||ig.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Pn(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function W1(s){Bc=s(Bc)}function $1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const u=s.call(Tc(this),n,...l);return ig.set(u,n.sort?n.sort():[n]),Pn(u)}:K1().includes(s)?function(...n){return s.apply(Tc(this),n),Pn(ng.get(this))}:function(...n){return Pn(s.apply(Tc(this),n))}}function P1(s){return typeof s=="function"?$1(s):(s instanceof IDBTransaction&&J1(s),X1(s,Z1())?new Proxy(s,Bc):s)}function Pn(s){if(s instanceof IDBRequest)return F1(s);if(Cc.has(s))return Cc.get(s);const n=P1(s);return n!==s&&(Cc.set(s,n),lf.set(n,s)),n}const Tc=s=>lf.get(s);function eS(s,n,{blocked:l,upgrade:u,blocking:o,terminated:f}={}){const h=indexedDB.open(s,n),_=Pn(h);return u&&h.addEventListener("upgradeneeded",g=>{u(Pn(h.result),g.oldVersion,g.newVersion,Pn(h.transaction),g)}),l&&h.addEventListener("blocked",g=>l(g.oldVersion,g.newVersion,g)),_.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),_}const tS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],Ac=new Map;function tp(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Ac.get(n))return Ac.get(n);const l=n.replace(/FromIndex$/,""),u=n!==l,o=nS.includes(l);if(!(l in(u?IDBIndex:IDBObjectStore).prototype)||!(o||tS.includes(l)))return;const f=async function(h,..._){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return u&&(p=p.index(_.shift())),(await Promise.all([p[l](..._),o&&g.done]))[0]};return Ac.set(n,f),f}W1(s=>({...s,get:(n,l,u)=>tp(n,l)||s.get(n,l,u),has:(n,l)=>!!tp(n,l)||s.has(n,l)}));class iS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(lS(l)){const u=l.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(l=>l).join(" ")}}function lS(s){return s.getComponent()?.type==="VERSION"}const Ic="@firebase/app",np="0.14.5";const Tn=new tg("@firebase/app"),aS="@firebase/app-compat",sS="@firebase/analytics-compat",uS="@firebase/analytics",rS="@firebase/app-check-compat",oS="@firebase/app-check",cS="@firebase/auth",fS="@firebase/auth-compat",hS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",_S="@firebase/functions",pS="@firebase/functions-compat",gS="@firebase/installations",yS="@firebase/installations-compat",vS="@firebase/messaging",SS="@firebase/messaging-compat",ES="@firebase/performance",bS="@firebase/performance-compat",CS="@firebase/remote-config",TS="@firebase/remote-config-compat",AS="@firebase/storage",NS="@firebase/storage-compat",DS="@firebase/firestore",RS="@firebase/ai",OS="@firebase/firestore-compat",MS="firebase",xS="12.5.0";const qc="[DEFAULT]",wS={[Ic]:"fire-core",[aS]:"fire-core-compat",[uS]:"fire-analytics",[sS]:"fire-analytics-compat",[oS]:"fire-app-check",[rS]:"fire-app-check-compat",[cS]:"fire-auth",[fS]:"fire-auth-compat",[hS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[_S]:"fire-fn",[pS]:"fire-fn-compat",[gS]:"fire-iid",[yS]:"fire-iid-compat",[vS]:"fire-fcm",[SS]:"fire-fcm-compat",[ES]:"fire-perf",[bS]:"fire-perf-compat",[CS]:"fire-rc",[TS]:"fire-rc-compat",[AS]:"fire-gcs",[NS]:"fire-gcs-compat",[DS]:"fire-fst",[OS]:"fire-fst-compat",[RS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};const Du=new Map,zS=new Map,jc=new Map;function ip(s,n){try{s.container.addComponent(n)}catch(l){Tn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Ru(s){const n=s.name;if(jc.has(n))return Tn.debug(`There were multiple attempts to register component ${n}.`),!1;jc.set(n,s);for(const l of Du.values())ip(l,s);for(const l of zS.values())ip(l,s);return!0}function US(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function LS(s){return s==null?!1:s.settings!==void 0}const HS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Pp("app","Firebase",HS);class BS{constructor(n,l,u){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const IS=xS;function lg(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const u={name:qc,automaticDataCollectionEnabled:!0,...n},o=u.name;if(typeof o!="string"||!o)throw ei.create("bad-app-name",{appName:String(o)});if(l||(l=Wp()),!l)throw ei.create("no-options");const f=Du.get(o);if(f){if(Nu(l,f.options)&&Nu(u,f.config))return f;throw ei.create("duplicate-app",{appName:o})}const h=new Y1(o);for(const g of jc.values())h.addComponent(g);const _=new BS(l,u,h);return Du.set(o,_),_}function qS(s=qc){const n=Du.get(s);if(!n&&s===qc&&Wp())return lg();if(!n)throw ei.create("no-app",{appName:s});return n}function El(s,n,l){let u=wS[s]??s;l&&(u+=`-${l}`);const o=u.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${u}" with version "${n}":`];o&&h.push(`library name "${u}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Tn.warn(h.join(" "));return}Ru(new ja(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}const jS="firebase-heartbeat-database",YS=1,Ya="firebase-heartbeat-store";let Nc=null;function ag(){return Nc||(Nc=eS(jS,YS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Ya)}catch(l){console.warn(l)}}}}).catch(s=>{throw ei.create("idb-open",{originalErrorMessage:s.message})})),Nc}async function GS(s){try{const l=(await ag()).transaction(Ya),u=await l.objectStore(Ya).get(sg(s));return await l.done,u}catch(n){if(n instanceof Fa)Tn.warn(n.message);else{const l=ei.create("idb-get",{originalErrorMessage:n?.message});Tn.warn(l.message)}}}async function lp(s,n){try{const u=(await ag()).transaction(Ya,"readwrite");await u.objectStore(Ya).put(n,sg(s)),await u.done}catch(l){if(l instanceof Fa)Tn.warn(l.message);else{const u=ei.create("idb-set",{originalErrorMessage:l?.message});Tn.warn(u.message)}}}function sg(s){return`${s.name}!${s.options.appId}`}const kS=1024,VS=30;class QS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new ZS(l),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ap();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(o=>o.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>VS){const o=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Tn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ap(),{heartbeatsToSend:l,unsentEntries:u}=XS(this._heartbeatsCache.heartbeats),o=Tu(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tn.warn(n),""}}}function ap(){return new Date().toISOString().substring(0,10)}function XS(s,n=kS){const l=[];let u=s.slice();for(const o of s){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),sp(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),sp(l)>n){l.pop();break}u=u.slice(1)}return{heartbeatsToSend:l,unsentEntries:u}}class ZS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await GS(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const u=await this.read();return lp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const u=await this.read();return lp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function sp(s){return Tu(JSON.stringify({version:2,heartbeats:s})).length}function KS(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let u=1;u<s.length;u++)s[u].date<l&&(l=s[u].date,n=u);return n}function FS(s){Ru(new ja("platform-logger",n=>new iS(n),"PRIVATE")),Ru(new ja("heartbeat",n=>new QS(n),"PRIVATE")),El(Ic,np,s),El(Ic,np,"esm2020"),El("fire-js","")}FS("");var JS="firebase",WS="12.5.0";El(JS,WS,"app");var up={};const rp="@firebase/database",op="1.1.0";let ug="";function $S(s){ug=s}class PS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Je(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:qa(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class eE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Dn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const rg=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new PS(n)}}catch{}return new eE},Di=rg("localStorage"),tE=rg("sessionStorage");const bl=new tg("@firebase/database"),nE=(function(){let s=1;return function(){return s++}})(),og=function(s){const n=B1(s),l=new H1;l.update(n);const u=l.digest();return ef.encodeByteArray(u)},Ja=function(...s){let n="";for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?n+=Ja.apply(null,u):typeof u=="object"?n+=Je(u):n+=u,n+=" "}return n};let Ua=null,cp=!0;const iE=function(s,n){L(!0,"Can't turn on custom loggers persistently."),bl.logLevel=Ae.VERBOSE,Ua=bl.log.bind(bl)},at=function(...s){if(cp===!0&&(cp=!1,Ua===null&&tE.get("logging_enabled")===!0&&iE()),Ua){const n=Ja.apply(null,s);Ua(n)}},Wa=function(s){return function(...n){at(s,...n)}},Yc=function(...s){const n="FIREBASE INTERNAL ERROR: "+Ja(...s);bl.error(n)},An=function(...s){const n=`FIREBASE FATAL ERROR: ${Ja(...s)}`;throw bl.error(n),new Error(n)},vt=function(...s){const n="FIREBASE WARNING: "+Ja(...s);bl.warn(n)},lE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cg=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},aE=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Nl="[MIN_NAME]",Oi="[MAX_NAME]",xl=function(s,n){if(s===n)return 0;if(s===Nl||n===Oi)return-1;if(n===Nl||s===Oi)return 1;{const l=fp(s),u=fp(n);return l!==null?u!==null?l-u===0?s.length-n.length:l-u:-1:u!==null?1:s<n?-1:1}},sE=function(s,n){return s===n?0:s<n?-1:1},Oa=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+Je(n))},af=function(s){if(typeof s!="object"||s===null)return Je(s);const n=[];for(const u in s)n.push(u);n.sort();let l="{";for(let u=0;u<n.length;u++)u!==0&&(l+=","),l+=Je(n[u]),l+=":",l+=af(s[n[u]]);return l+="}",l},fg=function(s,n){const l=s.length;if(l<=n)return[s];const u=[];for(let o=0;o<l;o+=n)o+n>l?u.push(s.substring(o,l)):u.push(s.substring(o,o+n));return u};function St(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const hg=function(s){L(!cg(s),"Invalid JSON number");const n=11,l=52,u=(1<<n-1)-1;let o,f,h,_,g;s===0?(f=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-u)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),u),f=_+u,h=Math.round(s*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-u-l))));const p=[];for(g=l;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const T=p.join("");let v="";for(g=0;g<64;g+=8){let E=parseInt(T.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},uE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function oE(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const u=new Error(s+" at "+n._path.toString()+": "+l);return u.code=s.toUpperCase(),u}const cE=new RegExp("^-?(0*)\\d{1,10}$"),fE=-2147483648,hE=2147483647,fp=function(s){if(cE.test(s)){const n=Number(s);if(n>=fE&&n<=hE)return n}return null},wl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw vt("Exception was thrown by user callback.",l),n},Math.floor(0))}},dE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},La=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class mE{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,LS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(u=>this.appCheck=u)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _E{constructor(n,l,u){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(n)}}class Cu{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Cu.OWNER="owner";const sf="5",dg="v",mg="s",_g="r",pg="f",gg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yg="ls",vg="p",Gc="ac",Sg="websocket",Eg="long_polling";class bg{constructor(n,l,u,o,f=!1,h="",_=!1,g=!1,p=null){this.secure=l,this.namespace=u,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function pE(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Cg(s,n,l){L(typeof n=="string","typeof type must == string"),L(typeof l=="object","typeof params must == object");let u;if(n===Sg)u=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Eg)u=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);pE(s)&&(l.ns=s.namespace);const o=[];return St(l,(f,h)=>{o.push(f+"="+h)}),u+o.join("&")}class gE{constructor(){this.counters_={}}incrementCounter(n,l=1){Dn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return h1(this.counters_)}}const Dc={},Rc={};function uf(s){const n=s.toString();return Dc[n]||(Dc[n]=new gE),Dc[n]}function yE(s,n){const l=s.toString();return Rc[l]||(Rc[l]=n()),Rc[l]}class vE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<u.length;++o)u[o]&&wl(()=>{this.onMessage_(u[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const hp="start",SE="close",EE="pLPCommand",bE="pRTLPCB",Tg="id",Ag="pw",Ng="ser",CE="cb",TE="seg",AE="ts",NE="d",DE="dframe",Dg=1870,Rg=30,RE=Dg-Rg,OE=25e3,ME=3e4;class Sl{constructor(n,l,u,o,f,h,_){this.connId=n,this.repoInfo=l,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wa(n),this.stats_=uf(l),this.urlFn=g=>(this.appCheckToken&&(g[Gc]=this.appCheckToken),Cg(l,Eg,g))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new vE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ME)),aE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rf((...f)=>{const[h,_,g,p,T]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===hp)this.id=_,this.password=g;else if(h===SE)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const u={};u[hp]="t",u[Ng]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[CE]=this.scriptTagHolder.uniqueCallbackIdentifier),u[dg]=sf,this.transportSessionId&&(u[mg]=this.transportSessionId),this.lastSessionId&&(u[yg]=this.lastSessionId),this.applicationId&&(u[vg]=this.applicationId),this.appCheckToken&&(u[Gc]=this.appCheckToken),typeof location<"u"&&location.hostname&&gg.test(location.hostname)&&(u[_g]=pg);const o=this.urlFn(u);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sl.forceAllow_=!0}static forceDisallow(){Sl.forceDisallow_=!0}static isAvailable(){return Sl.forceAllow_?!0:!Sl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uE()&&!rE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Je(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=Kp(l),o=fg(u,RE);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const u={};u[DE]="t",u[Tg]=n,u[Ag]=l,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Je(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class rf{constructor(n,l,u,o){this.onDisconnect=u,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nE(),window[EE+this.uniqueCallbackIdentifier]=n,window[bE+this.uniqueCallbackIdentifier]=l,this.myIFrame=rf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){at("frame writing exception"),_.stack&&at(_.stack),at(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||at("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Tg]=this.myID,n[Ag]=this.myPW,n[Ng]=this.currentSerial;let l=this.urlFn(n),u="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rg+u.length<=Dg;){const h=this.pendingSegs.shift();u=u+"&"+TE+o+"="+h.seg+"&"+AE+o+"="+h.ts+"&"+NE+o+"="+h.d,o++}return l=l+u,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,u){this.pendingSegs.push({seg:n,ts:l,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const u=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(u,Math.floor(OE)),f=()=>{clearTimeout(o),u()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const o=u.readyState;(!o||o==="loaded"||o==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),l())},u.onerror=()=>{at("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}const xE=16384,wE=45e3;let Ou=null;typeof MozWebSocket<"u"?Ou=MozWebSocket:typeof WebSocket<"u"&&(Ou=WebSocket);class Xt{constructor(n,l,u,o,f,h,_){this.connId=n,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wa(this.connId),this.stats_=uf(l),this.connURL=Xt.connectionURL_(l,h,_,o,u),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,u,o,f){const h={};return h[dg]=sf,typeof location<"u"&&location.hostname&&gg.test(location.hostname)&&(h[_g]=pg),l&&(h[mg]=l),u&&(h[yg]=u),o&&(h[Gc]=o),f&&(h[vg]=f),Cg(n,Sg,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let u;D1(),this.mySock=new Ou(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(l);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&Ou!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const u=qa(l);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(L(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const u=this.extractFrameCount_(l);u!==null&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const l=Je(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=fg(l,xE);u.length>1&&this.sendString_(String(u.length));for(let o=0;o<u.length;o++)this.sendString_(u[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;class Ga{static get ALL_TRANSPORTS(){return[Sl,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Xt&&Xt.isAvailable();let u=l&&!Xt.previouslyFailed();if(n.webSocketOnly&&(l||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Xt];else{const o=this.transports_=[];for(const f of Ga.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ga.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ga.globalTransportInitialized_=!1;const zE=6e4,UE=5e3,LE=10*1024,HE=100*1024,Oc="t",dp="d",BE="s",mp="r",IE="e",_p="o",pp="a",gp="n",yp="p",qE="h";class jE{constructor(n,l,u,o,f,h,_,g,p,T){this.id=n,this.repoInfo_=l,this.applicationId_=u,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wa("c:"+this.id+":"),this.transportManager_=new Ga(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,u)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=La(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Oc in n){const l=n[Oc];l===pp?this.upgradeIfSecondaryHealthy_():l===mp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===_p&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Oa("t",n),u=Oa("d",n);if(l==="c")this.onSecondaryControl_(u);else if(l==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Oa("t",n),u=Oa("d",n);l==="c"?this.onControl_(u):l==="d"&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Oa(Oc,n);if(dp in n){const u=n[dp];if(l===qE){const o={...u};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===gp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===BE?this.onConnectionShutdown_(u):l===mp?this.onReset_(u):l===IE?Yc("Server Error: "+u):l===_p?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,u=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),sf!==u&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,u),La(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):La(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Og{put(n,l,u,o){}merge(n,l,u,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,u){}onDisconnectMerge(n,l,u){}onDisconnectCancel(n,l){}reportStats(n){}}class Mg{constructor(n){this.allowedEvents_=n,this.listeners_={},L(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let o=0;o<u.length;o++)u[o].callback.apply(u[o].context,l)}}on(n,l,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:u});const o=this.getInitialEvent(n);o&&l.apply(u,o)}off(n,l,u){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!u||u===o[f].context)){o.splice(f,1);return}}validateEventType_(n){L(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Mu extends Mg{static getInstance(){return new Mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$p()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return L(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const vp=32,Sp=768;class Te{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let u=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[u]=this.pieces_[o],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function de(){return new Te("")}function P(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ni(s){return s.pieces_.length-s.pieceNum_}function Ne(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new Te(s.pieces_,n)}function xg(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function YE(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function wg(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function zg(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new Te(n,0)}function Qe(s,n){const l=[];for(let u=s.pieceNum_;u<s.pieces_.length;u++)l.push(s.pieces_[u]);if(n instanceof Te)for(let u=n.pieceNum_;u<n.pieces_.length;u++)l.push(n.pieces_[u]);else{const u=n.split("/");for(let o=0;o<u.length;o++)u[o].length>0&&l.push(u[o])}return new Te(l,0)}function le(s){return s.pieceNum_>=s.pieces_.length}function gt(s,n){const l=P(s),u=P(n);if(l===null)return n;if(l===u)return gt(Ne(s),Ne(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function of(s,n){if(ni(s)!==ni(n))return!1;for(let l=s.pieceNum_,u=n.pieceNum_;l<=s.pieces_.length;l++,u++)if(s.pieces_[l]!==n.pieces_[u])return!1;return!0}function Zt(s,n){let l=s.pieceNum_,u=n.pieceNum_;if(ni(s)>ni(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[u])return!1;++l,++u}return!0}class GE{constructor(n,l){this.errorPrefix_=l,this.parts_=wg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=ku(this.parts_[u]);Ug(this)}}function kE(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=ku(n),Ug(s)}function VE(s){const n=s.parts_.pop();s.byteLength_-=ku(n),s.parts_.length>0&&(s.byteLength_-=1)}function Ug(s){if(s.byteLength_>Sp)throw new Error(s.errorPrefix_+"has a key path longer than "+Sp+" bytes ("+s.byteLength_+").");if(s.parts_.length>vp)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vp+") or object contains a cycle "+Ni(s))}function Ni(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class cf extends Mg{static getInstance(){return new cf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}getInitialEvent(n){return L(n==="visible","Unknown event type: "+n),[this.visible_]}}const Ma=1e3,QE=300*1e3,Ep=30*1e3,XE=1.3,ZE=3e4,KE="server_kill",bp=3;class Cn extends Og{constructor(n,l,u,o,f,h,_,g){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=u,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=g,this.id=Cn.nextPersistentConnectionId_++,this.log_=Wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ma,this.maxReconnectDelay_=QE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Mu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,u){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(Je(f)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),u&&(this.requestCBHash_[o]=u)}get(n){this.initConnection_();const l=new Gu,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,u,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:l,query:n,tag:u};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(u)})}sendListen_(n){const l=n.query,u=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+u+" for "+o);const f={p:u},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const g=_.d,p=_.s;Cn.warnOnListenWarnings_(g,l),(this.listens.get(u)&&this.listens.get(u).get(o))===n&&(this.log_("listen response",_),p!=="ok"&&this.removeListen_(u,o),n.onComplete&&n.onComplete(p,g))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Dn(n,"w")){const u=Al(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||U1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ep)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=z1(n)?"auth":"gauth",u={cred:n};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(l,u,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,u=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,u)})}unlisten(n,l){const u=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+o),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,o)&&this.connected_&&this.sendUnlisten_(u,o,n._queryObject,l)}sendUnlisten_(n,l,u,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=u,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:u})}onDisconnectMerge(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:u})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,u,o){const f={p:l,d:u};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,u,o){this.putInternal("p",n,l,u,o)}merge(n,l,u,o){this.putInternal("m",n,l,u,o)}putInternal(n,l,u,o,f){this.initConnection_();const h={p:l,d:u};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,u,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,u=>{if(u.s!=="ok"){const f=u.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Je(n));const l=n.r,u=this.requestCBHash_[l];u&&(delete this.requestCBHash_[l],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Yc("Unrecognized action received from server: "+Je(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZE&&(this.reconnectDelay_=Ma),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Cn.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const g=function(){_?_.close():(h=!0,u())},p=function(v){L(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);h?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,_=new jE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,u,U=>{vt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(KE)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&vt(v),g())}}}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],W_(this.interruptReasons_)&&(this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let u;l?u=l.map(f=>af(f)).join("$"):u="default";const o=this.removeListen_(n,u);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const u=new Te(n).toString();let o;if(this.listens.has(u)){const f=this.listens.get(u);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(u)}else o=void 0;return o}onAuthRevoked_(n,l){at("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bp&&(this.reconnectDelay_=Ep,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){at("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+ug.replace(/\./g,"-")]=1,$p()?n["framework.cordova"]=1:N1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Mu.getInstance().currentlyOnline();return W_(this.interruptReasons_)&&n}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;class ee{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ee(n,l)}}class Vu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const u=new ee(Nl,n),o=new ee(Nl,l);return this.compare(u,o)!==0}minPost(){return ee.MIN}}let vu;class Lg extends Vu{static get __EMPTY_NODE(){return vu}static set __EMPTY_NODE(n){vu=n}compare(n,l){return xl(n.name,l.name)}isDefinedOn(n){throw Ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Oi,vu)}makePost(n,l){return L(typeof n=="string","KeyIndex indexValue must always be a string."),new ee(n,vu)}toString(){return".key"}}const Cl=new Lg;class Su{constructor(n,l,u,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?u(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Fe{constructor(n,l,u,o,f){this.key=n,this.value=l,this.color=u??Fe.RED,this.left=o??yt.EMPTY_NODE,this.right=f??yt.EMPTY_NODE}copy(n,l,u,o,f){return new Fe(n??this.key,l??this.value,u??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,u){let o=this;const f=u(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,u),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,u)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let u,o;if(u=this,l(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,l),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),l(n,u.key)===0){if(u.right.isEmpty())return yt.EMPTY_NODE;o=u.right.min_(),u=u.copy(o.key,o.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,l))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class FE{copy(n,l,u,o,f){return this}insert(n,l,u){return new Fe(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(n,l=yt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new yt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(n){return new yt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(n){let l,u=this.root_;for(;!u.isEmpty();){if(l=this.comparator_(n,u.key),l===0)return u.value;l<0?u=u.left:l>0&&(u=u.right)}return null}getPredecessorKey(n){let l,u=this.root_,o=null;for(;!u.isEmpty();)if(l=this.comparator_(n,u.key),l===0){if(u.left.isEmpty())return o?o.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else l<0?u=u.left:l>0&&(o=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Su(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Su(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Su(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Su(this.root_,null,this.comparator_,!0,n)}}yt.EMPTY_NODE=new FE;function JE(s,n){return xl(s.name,n.name)}function ff(s,n){return xl(s,n)}let kc;function WE(s){kc=s}const Hg=function(s){return typeof s=="number"?"number:"+hg(s):"string:"+s},Bg=function(s){if(s.isLeafNode()){const n=s.val();L(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Dn(n,".sv"),"Priority must be a string or number.")}else L(s===kc||s.isEmpty(),"priority of unexpected type.");L(s===kc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Cp;class Ke{static set __childrenNodeConstructor(n){Cp=n}static get __childrenNodeConstructor(){return Cp}constructor(n,l=Ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Ke(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:P(n)===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const u=P(n);return u===null?l:l.isEmpty()&&u!==".priority"?this:(L(u!==".priority"||ni(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,Ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Hg(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=hg(this.value_):n+=this.value_,this.lazyHash_=og(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Ke.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Ke.__childrenNodeConstructor?-1:(L(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,u=typeof this.value_,o=Ke.VALUE_TYPE_ORDER.indexOf(l),f=Ke.VALUE_TYPE_ORDER.indexOf(u);return L(o>=0,"Unknown leaf type: "+l),L(f>=0,"Unknown leaf type: "+u),o===f?u==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Ig,qg;function $E(s){Ig=s}function PE(s){qg=s}class eb extends Vu{compare(n,l){const u=n.node.getPriority(),o=l.node.getPriority(),f=u.compareTo(o);return f===0?xl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Oi,new Ke("[PRIORITY-POST]",qg))}makePost(n,l){const u=Ig(n);return new ee(l,new Ke("[PRIORITY-POST]",u))}toString(){return".priority"}}const Le=new eb;const tb=Math.log(2);class nb{constructor(n){const l=f=>parseInt(Math.log(f)/tb,10),u=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=u(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const xu=function(s,n,l,u){s.sort(n);const o=function(g,p){const T=p-g;let v,E;if(T===0)return null;if(T===1)return v=s[g],E=l?l(v):v,new Fe(E,v.node,Fe.BLACK,null,null);{const U=parseInt(T/2,10)+g,H=o(g,U),X=o(U+1,p);return v=s[U],E=l?l(v):v,new Fe(E,v.node,Fe.BLACK,H,X)}},f=function(g){let p=null,T=null,v=s.length;const E=function(H,X){const oe=v-H,Ee=v;v-=H;const He=o(oe+1,Ee),G=s[oe],De=l?l(G):G;U(new Fe(De,G.node,X,null,He))},U=function(H){p?(p.left=H,p=H):(T=H,p=H)};for(let H=0;H<g.count;++H){const X=g.nextBitIsOne(),oe=Math.pow(2,g.count-(H+1));X?E(oe,Fe.BLACK):(E(oe,Fe.BLACK),E(oe,Fe.RED))}return T},h=new nb(s.length),_=f(h);return new yt(u||n,_)};let Mc;const vl={};class bn{static get Default(){return L(vl&&Le,"ChildrenNode.ts has not been loaded"),Mc=Mc||new bn({".priority":vl},{".priority":Le}),Mc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Al(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof yt?l:null}hasIndex(n){return Dn(this.indexSet_,n.toString())}addIndex(n,l){L(n!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let o=!1;const f=l.getIterator(ee.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),u.push(h),h=f.getNext();let _;o?_=xu(u,n.getCompare()):_=vl;const g=n.toString(),p={...this.indexSet_};p[g]=n;const T={...this.indexes_};return T[g]=_,new bn(T,p)}addToIndexes(n,l){const u=Au(this.indexes_,(o,f)=>{const h=Al(this.indexSet_,f);if(L(h,"Missing index implementation for "+f),o===vl)if(h.isDefinedOn(n.node)){const _=[],g=l.getIterator(ee.Wrap);let p=g.getNext();for(;p;)p.name!==n.name&&_.push(p),p=g.getNext();return _.push(n),xu(_,h.getCompare())}else return vl;else{const _=l.get(n.name);let g=o;return _&&(g=g.remove(new ee(n.name,_))),g.insert(n,n.node)}});return new bn(u,this.indexSet_)}removeFromIndexes(n,l){const u=Au(this.indexes_,o=>{if(o===vl)return o;{const f=l.get(n.name);return f?o.remove(new ee(n.name,f)):o}});return new bn(u,this.indexSet_)}}let xa;class K{static get EMPTY_NODE(){return xa||(xa=new K(new yt(ff),null,bn.Default))}constructor(n,l,u){this.children_=n,this.priorityNode_=l,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Bg(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xa}updatePriority(n){return this.children_.isEmpty()?this:new K(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?xa:l}}getChild(n){const l=P(n);return l===null?this:this.getImmediateChild(l).getChild(Ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(L(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const u=new ee(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(u,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(u,this.children_));const h=o.isEmpty()?xa:this.priorityNode_;return new K(o,h,f)}}updateChild(n,l){const u=P(n);if(u===null)return l;{L(P(n)!==".priority"||ni(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(u).updateChild(Ne(n),l);return this.updateImmediateChild(u,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let u=0,o=0,f=!0;if(this.forEachChild(Le,(h,_)=>{l[h]=_.val(n),u++,f&&K.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*u){const h=[];for(const _ in l)h[_]=l[_];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Hg(this.getPriority().val())+":"),this.forEachChild(Le,(l,u)=>{const o=u.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":og(n)}return this.lazyHash_}getPredecessorChildName(n,l,u){const o=this.resolveIndex_(u);if(o){const f=o.getPredecessorKey(new ee(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ee(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ee(l,this.children_.get(l)):null}forEachChild(n,l){const u=this.resolveIndex_(n);return u?u.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ee.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===$a?-1:0}withIndex(n){if(n===Cl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new K(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Cl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const u=this.getIterator(Le),o=l.getIterator(Le);let f=u.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=u.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Cl?null:this.indexMap_.get(n.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ib extends K{constructor(){super(new yt(ff),K.EMPTY_NODE,bn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return K.EMPTY_NODE}isEmpty(){return!1}}const $a=new ib;Object.defineProperties(ee,{MIN:{value:new ee(Nl,K.EMPTY_NODE)},MAX:{value:new ee(Oi,$a)}});Lg.__EMPTY_NODE=K.EMPTY_NODE;Ke.__childrenNodeConstructor=K;WE($a);PE($a);const lb=!0;function nt(s,n=null){if(s===null)return K.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),L(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new Ke(l,nt(n))}if(!(s instanceof Array)&&lb){const l=[];let u=!1;if(St(s,(h,_)=>{if(h.substring(0,1)!=="."){const g=nt(_);g.isEmpty()||(u=u||!g.getPriority().isEmpty(),l.push(new ee(h,g)))}}),l.length===0)return K.EMPTY_NODE;const f=xu(l,JE,h=>h.name,ff);if(u){const h=xu(l,Le.getCompare());return new K(f,nt(n),new bn({".priority":h},{".priority":Le}))}else return new K(f,nt(n),bn.Default)}else{let l=K.EMPTY_NODE;return St(s,(u,o)=>{if(Dn(s,u)&&u.substring(0,1)!=="."){const f=nt(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(u,f))}}),l.updatePriority(nt(n))}}$E(nt);class ab extends Vu{constructor(n){super(),this.indexPath_=n,L(!le(n)&&P(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const u=this.extractChild(n.node),o=this.extractChild(l.node),f=u.compareTo(o);return f===0?xl(n.name,l.name):f}makePost(n,l){const u=nt(n),o=K.EMPTY_NODE.updateChild(this.indexPath_,u);return new ee(l,o)}maxPost(){const n=K.EMPTY_NODE.updateChild(this.indexPath_,$a);return new ee(Oi,n)}toString(){return wg(this.indexPath_,0).join("/")}}class sb extends Vu{compare(n,l){const u=n.node.compareTo(l.node);return u===0?xl(n.name,l.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(n,l){const u=nt(n);return new ee(l,u)}toString(){return".value"}}const ub=new sb;function jg(s){return{type:"value",snapshotNode:s}}function Dl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function ka(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Va(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function rb(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}class hf{constructor(n){this.index_=n}updateChild(n,l,u,o,f,h){L(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(o).equals(u.getChild(o))&&_.isEmpty()===u.isEmpty()||(h!=null&&(u.isEmpty()?n.hasChild(l)?h.trackChildChange(ka(l,_)):L(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Dl(l,u)):h.trackChildChange(Va(l,u,_))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(l,u).withIndex(this.index_)}updateFullNode(n,l,u){return u!=null&&(n.isLeafNode()||n.forEachChild(Le,(o,f)=>{l.hasChild(o)||u.trackChildChange(ka(o,f))}),l.isLeafNode()||l.forEachChild(Le,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||u.trackChildChange(Va(o,f,h))}else u.trackChildChange(Dl(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?K.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qa{constructor(n){this.indexedFilter_=new hf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Qa.getStartPost_(n),this.endPost_=Qa.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,u=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&u}updateChild(n,l,u,o,f,h){return this.matches(new ee(l,u))||(u=K.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,u,o,f,h)}updateFullNode(n,l,u){l.isLeafNode()&&(l=K.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const f=this;return l.forEachChild(Le,(h,_)=>{f.matches(new ee(h,_))||(o=o.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class ob{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=l=>{const u=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Qa(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,u,o,f,h){return this.rangedFilter_.matches(new ee(l,u))||(u=K.EMPTY_NODE),n.getImmediateChild(l).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,u,o,f,h):this.fullLimitUpdateChild_(n,l,u,f,h)}updateFullNode(n,l,u){let o;if(l.isLeafNode()||l.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))o=o.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:o=o.updateImmediateChild(_.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,u,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,U)=>v(U,E)}else h=this.index_.getCompare();const _=n;L(_.numChildren()===this.limit_,"");const g=new ee(l,u),p=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),T=this.rangedFilter_.matches(g);if(_.hasChild(l)){const v=_.getImmediateChild(l);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===l||_.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const U=E==null?1:h(E,g);if(T&&!u.isEmpty()&&U>=0)return f?.trackChildChange(Va(l,u,v)),_.updateImmediateChild(l,u);{f?.trackChildChange(ka(l,v));const X=_.updateImmediateChild(l,K.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Dl(E.name,E.node)),X.updateImmediateChild(E.name,E.node)):X}}else return u.isEmpty()?n:T&&h(p,g)>=0?(f!=null&&(f.trackChildChange(ka(p.name,p.node)),f.trackChildChange(Dl(l,u))),_.updateImmediateChild(l,u).updateImmediateChild(p.name,K.EMPTY_NODE)):n}}class df{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const n=new df;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function cb(s){return s.loadsAllData()?new hf(s.getIndex()):s.hasLimit()?new ob(s):new Qa(s)}function Tp(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Le?l="$priority":s.index_===ub?l="$value":s.index_===Cl?l="$key":(L(s.index_ instanceof ab,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=Je(l),s.startSet_){const u=s.startAfterSet_?"startAfter":"startAt";n[u]=Je(s.indexStartValue_),s.startNameSet_&&(n[u]+=","+Je(s.indexStartName_))}if(s.endSet_){const u=s.endBeforeSet_?"endBefore":"endAt";n[u]=Je(s.indexEndValue_),s.endNameSet_&&(n[u]+=","+Je(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Ap(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Le&&(n.i=s.index_.toString()),n}class wu extends Og{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(L(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,u,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=o,this.log_=Wa("p:rest:"),this.listens_={}}listen(n,l,u,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=wu.getListenId_(n,u),_={};this.listens_[h]=_;const g=Tp(n._queryParams);this.restRequest_(f+".json",g,(p,T)=>{let v=T;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,u),Al(this.listens_,h)===_){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(n,l){const u=wu.getListenId_(n,l);delete this.listens_[u]}get(n){const l=Tp(n._queryParams),u=n._path.toString(),o=new Gu;return this.restRequest_(u+".json",l,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(u,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},u){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+L1(l);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(u&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let g=null;if(_.status>=200&&_.status<300){try{g=qa(_.responseText)}catch{vt("Failed to parse JSON response for "+h+": "+_.responseText)}u(null,g)}else _.status!==401&&_.status!==404&&vt("Got unsuccessful REST response for "+h+" Status: "+_.status),u(_.status);u=null}},_.open("GET",h,!0),_.send()})}}class fb{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function zu(){return{value:null,children:new Map}}function Yg(s,n,l){if(le(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const u=P(n);s.children.has(u)||s.children.set(u,zu());const o=s.children.get(u);n=Ne(n),Yg(o,n,l)}}function Vc(s,n,l){s.value!==null?l(n,s.value):hb(s,(u,o)=>{const f=new Te(n.toString()+"/"+u);Vc(o,f,l)})}function hb(s,n){s.children.forEach((l,u)=>{n(u,l)})}class db{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&St(this.last_,(u,o)=>{l[u]=l[u]-o}),this.last_=n,l}}const Np=10*1e3,mb=30*1e3,_b=300*1e3;class pb{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new db(n);const u=Np+(mb-Np)*Math.random();La(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),l={};let u=!1;St(n,(o,f)=>{f>0&&Dn(this.statsToReport_,o)&&(l[o]=f,u=!0)}),u&&this.server_.reportStats(l),La(this.reportStats_.bind(this),Math.floor(Math.random()*2*_b))}}var Kt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function Gg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _f(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Uu{constructor(n,l,u){this.path=n,this.affectedTree=l,this.revert=u,this.type=Kt.ACK_USER_WRITE,this.source=Gg()}operationForChild(n){if(le(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Te(n));return new Uu(de(),l,this.revert)}}else return L(P(this.path)===n,"operationForChild called for unrelated child."),new Uu(Ne(this.path),this.affectedTree,this.revert)}}class Xa{constructor(n,l){this.source=n,this.path=l,this.type=Kt.LISTEN_COMPLETE}operationForChild(n){return le(this.path)?new Xa(this.source,de()):new Xa(this.source,Ne(this.path))}}class Mi{constructor(n,l,u){this.source=n,this.path=l,this.snap=u,this.type=Kt.OVERWRITE}operationForChild(n){return le(this.path)?new Mi(this.source,de(),this.snap.getImmediateChild(n)):new Mi(this.source,Ne(this.path),this.snap)}}class Za{constructor(n,l,u){this.source=n,this.path=l,this.children=u,this.type=Kt.MERGE}operationForChild(n){if(le(this.path)){const l=this.children.subtree(new Te(n));return l.isEmpty()?null:l.value?new Mi(this.source,de(),l.value):new Za(this.source,de(),l)}else return L(P(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Za(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xi{constructor(n,l,u){this.node_=n,this.fullyInitialized_=l,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(le(n))return this.isFullyInitialized()&&!this.filtered_;const l=P(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class gb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function yb(s,n,l,u){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(rb(h.childName,h.snapshotNode))}),wa(s,o,"child_removed",n,u,l),wa(s,o,"child_added",n,u,l),wa(s,o,"child_moved",f,u,l),wa(s,o,"child_changed",n,u,l),wa(s,o,"value",n,u,l),o}function wa(s,n,l,u,o,f){const h=u.filter(_=>_.type===l);h.sort((_,g)=>Sb(s,_,g)),h.forEach(_=>{const g=vb(s,_,f);o.forEach(p=>{p.respondsTo(_.type)&&n.push(p.createEvent(g,s.query_))})})}function vb(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function Sb(s,n,l){if(n.childName==null||l.childName==null)throw Ol("Should only compare child_ events.");const u=new ee(n.childName,n.snapshotNode),o=new ee(l.childName,l.snapshotNode);return s.index_.compare(u,o)}function Qu(s,n){return{eventCache:s,serverCache:n}}function Ha(s,n,l,u){return Qu(new xi(n,l,u),s.serverCache)}function kg(s,n,l,u){return Qu(s.eventCache,new xi(n,l,u))}function Qc(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function wi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let xc;const Eb=()=>(xc||(xc=new yt(sE)),xc);class Me{static fromObject(n){let l=new Me(null);return St(n,(u,o)=>{l=l.set(new Te(u),o)}),l}constructor(n,l=Eb()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:de(),value:this.value};if(le(n))return null;{const u=P(n),o=this.children.get(u);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Ne(n),l);return f!=null?{path:Qe(new Te(u),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(le(n))return this;{const l=P(n),u=this.children.get(l);return u!==null?u.subtree(Ne(n)):new Me(null)}}set(n,l){if(le(n))return new Me(l,this.children);{const u=P(n),f=(this.children.get(u)||new Me(null)).set(Ne(n),l),h=this.children.insert(u,f);return new Me(this.value,h)}}remove(n){if(le(n))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const l=P(n),u=this.children.get(l);if(u){const o=u.remove(Ne(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new Me(null):new Me(this.value,f)}else return this}}get(n){if(le(n))return this.value;{const l=P(n),u=this.children.get(l);return u?u.get(Ne(n)):null}}setTree(n,l){if(le(n))return l;{const u=P(n),f=(this.children.get(u)||new Me(null)).setTree(Ne(n),l);let h;return f.isEmpty()?h=this.children.remove(u):h=this.children.insert(u,f),new Me(this.value,h)}}fold(n){return this.fold_(de(),n)}fold_(n,l){const u={};return this.children.inorderTraversal((o,f)=>{u[o]=f.fold_(Qe(n,o),l)}),l(n,this.value,u)}findOnPath(n,l){return this.findOnPath_(n,de(),l)}findOnPath_(n,l,u){const o=this.value?u(l,this.value):!1;if(o)return o;if(le(n))return null;{const f=P(n),h=this.children.get(f);return h?h.findOnPath_(Ne(n),Qe(l,f),u):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,de(),l)}foreachOnPath_(n,l,u){if(le(n))return this;{this.value&&u(l,this.value);const o=P(n),f=this.children.get(o);return f?f.foreachOnPath_(Ne(n),Qe(l,o),u):new Me(null)}}foreach(n){this.foreach_(de(),n)}foreach_(n,l){this.children.inorderTraversal((u,o)=>{o.foreach_(Qe(n,u),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,u)=>{u.value&&n(l,u.value)})}}class Ft{constructor(n){this.writeTree_=n}static empty(){return new Ft(new Me(null))}}function Ba(s,n,l){if(le(n))return new Ft(new Me(l));{const u=s.writeTree_.findRootMostValueAndPath(n);if(u!=null){const o=u.path;let f=u.value;const h=gt(o,n);return f=f.updateChild(h,l),new Ft(s.writeTree_.set(o,f))}else{const o=new Me(l),f=s.writeTree_.setTree(n,o);return new Ft(f)}}}function Dp(s,n,l){let u=s;return St(l,(o,f)=>{u=Ba(u,Qe(n,o),f)}),u}function Rp(s,n){if(le(n))return Ft.empty();{const l=s.writeTree_.setTree(n,new Me(null));return new Ft(l)}}function Xc(s,n){return zi(s,n)!=null}function zi(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(gt(l.path,n)):null}function Op(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Le,(u,o)=>{n.push(new ee(u,o))}):s.writeTree_.children.inorderTraversal((u,o)=>{o.value!=null&&n.push(new ee(u,o.value))}),n}function ti(s,n){if(le(n))return s;{const l=zi(s,n);return l!=null?new Ft(new Me(l)):new Ft(s.writeTree_.subtree(n))}}function Zc(s){return s.writeTree_.isEmpty()}function Rl(s,n){return Vg(de(),s.writeTree_,n)}function Vg(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let u=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(L(f.value!==null,"Priority writes must always be leaf nodes"),u=f.value):l=Vg(Qe(s,o),f,l)}),!l.getChild(s).isEmpty()&&u!==null&&(l=l.updateChild(Qe(s,".priority"),u)),l}}function pf(s,n){return Kg(n,s)}function bb(s,n,l,u,o){L(u>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:u,visible:o}),o&&(s.visibleWrites=Ba(s.visibleWrites,n,l)),s.lastWriteId=u}function Cb(s,n){for(let l=0;l<s.allWrites.length;l++){const u=s.allWrites[l];if(u.writeId===n)return u}return null}function Tb(s,n){const l=s.allWrites.findIndex(_=>_.writeId===n);L(l>=0,"removeWrite called with nonexistent writeId.");const u=s.allWrites[l];s.allWrites.splice(l,1);let o=u.visible,f=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const _=s.allWrites[h];_.visible&&(h>=l&&Ab(_,u.path)?o=!1:Zt(u.path,_.path)&&(f=!0)),h--}if(o){if(f)return Nb(s),!0;if(u.snap)s.visibleWrites=Rp(s.visibleWrites,u.path);else{const _=u.children;St(_,g=>{s.visibleWrites=Rp(s.visibleWrites,Qe(u.path,g))})}return!0}else return!1}function Ab(s,n){if(s.snap)return Zt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Zt(Qe(s.path,l),n))return!0;return!1}function Nb(s){s.visibleWrites=Qg(s.allWrites,Db,de()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function Db(s){return s.visible}function Qg(s,n,l){let u=Ft.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const h=f.path;let _;if(f.snap)Zt(l,h)?(_=gt(l,h),u=Ba(u,_,f.snap)):Zt(h,l)&&(_=gt(h,l),u=Ba(u,de(),f.snap.getChild(_)));else if(f.children){if(Zt(l,h))_=gt(l,h),u=Dp(u,_,f.children);else if(Zt(h,l))if(_=gt(h,l),le(_))u=Dp(u,de(),f.children);else{const g=Al(f.children,P(_));if(g){const p=g.getChild(Ne(_));u=Ba(u,de(),p)}}}else throw Ol("WriteRecord should have .snap or .children")}}return u}function Xg(s,n,l,u,o){if(!u&&!o){const f=zi(s.visibleWrites,n);if(f!=null)return f;{const h=ti(s.visibleWrites,n);if(Zc(h))return l;if(l==null&&!Xc(h,de()))return null;{const _=l||K.EMPTY_NODE;return Rl(h,_)}}}else{const f=ti(s.visibleWrites,n);if(!o&&Zc(f))return l;if(!o&&l==null&&!Xc(f,de()))return null;{const h=function(p){return(p.visible||o)&&(!u||!~u.indexOf(p.writeId))&&(Zt(p.path,n)||Zt(n,p.path))},_=Qg(s.allWrites,h,n),g=l||K.EMPTY_NODE;return Rl(_,g)}}}function Rb(s,n,l){let u=K.EMPTY_NODE;const o=zi(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Le,(f,h)=>{u=u.updateImmediateChild(f,h)}),u;if(l){const f=ti(s.visibleWrites,n);return l.forEachChild(Le,(h,_)=>{const g=Rl(ti(f,new Te(h)),_);u=u.updateImmediateChild(h,g)}),Op(f).forEach(h=>{u=u.updateImmediateChild(h.name,h.node)}),u}else{const f=ti(s.visibleWrites,n);return Op(f).forEach(h=>{u=u.updateImmediateChild(h.name,h.node)}),u}}function Ob(s,n,l,u,o){L(u||o,"Either existingEventSnap or existingServerSnap must exist");const f=Qe(n,l);if(Xc(s.visibleWrites,f))return null;{const h=ti(s.visibleWrites,f);return Zc(h)?o.getChild(l):Rl(h,o.getChild(l))}}function Mb(s,n,l,u){const o=Qe(n,l),f=zi(s.visibleWrites,o);if(f!=null)return f;if(u.isCompleteForChild(l)){const h=ti(s.visibleWrites,o);return Rl(h,u.getNode().getImmediateChild(l))}else return null}function xb(s,n){return zi(s.visibleWrites,n)}function wb(s,n,l,u,o,f,h){let _;const g=ti(s.visibleWrites,n),p=zi(g,de());if(p!=null)_=p;else if(l!=null)_=Rl(g,l);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const T=[],v=h.getCompare(),E=f?_.getReverseIteratorFrom(u,h):_.getIteratorFrom(u,h);let U=E.getNext();for(;U&&T.length<o;)v(U,u)!==0&&T.push(U),U=E.getNext();return T}else return[]}function zb(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function Lu(s,n,l,u){return Xg(s.writeTree,s.treePath,n,l,u)}function gf(s,n){return Rb(s.writeTree,s.treePath,n)}function Mp(s,n,l,u){return Ob(s.writeTree,s.treePath,n,l,u)}function Hu(s,n){return xb(s.writeTree,Qe(s.treePath,n))}function Ub(s,n,l,u,o,f){return wb(s.writeTree,s.treePath,n,l,u,o,f)}function yf(s,n,l){return Mb(s.writeTree,s.treePath,n,l)}function Zg(s,n){return Kg(Qe(s.treePath,n),s.writeTree)}function Kg(s,n){return{treePath:s,writeTree:n}}class Lb{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,u=n.childName;L(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),L(u!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(u);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(u,Va(u,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(u);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(u,ka(u,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(u,Dl(u,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(u,Va(u,n.snapshotNode,o.oldSnap));else throw Ol("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}class Hb{getCompleteChild(n){return null}getChildAfterChild(n,l,u){return null}}const Fg=new Hb;class vf{constructor(n,l,u=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=u}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const u=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yf(this.writes_,n,u)}}getChildAfterChild(n,l,u){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wi(this.viewCache_),f=Ub(this.writes_,o,l,1,u,n);return f.length===0?null:f[0]}}function Bb(s){return{filter:s}}function Ib(s,n){L(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),L(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function qb(s,n,l,u,o){const f=new Lb;let h,_;if(l.type===Kt.OVERWRITE){const p=l;p.source.fromUser?h=Kc(s,n,p.path,p.snap,u,o,f):(L(p.source.fromServer,"Unknown source."),_=p.source.tagged||n.serverCache.isFiltered()&&!le(p.path),h=Bu(s,n,p.path,p.snap,u,o,_,f))}else if(l.type===Kt.MERGE){const p=l;p.source.fromUser?h=Yb(s,n,p.path,p.children,u,o,f):(L(p.source.fromServer,"Unknown source."),_=p.source.tagged||n.serverCache.isFiltered(),h=Fc(s,n,p.path,p.children,u,o,_,f))}else if(l.type===Kt.ACK_USER_WRITE){const p=l;p.revert?h=Vb(s,n,p.path,u,o,f):h=Gb(s,n,p.path,p.affectedTree,u,o,f)}else if(l.type===Kt.LISTEN_COMPLETE)h=kb(s,n,l.path,u,f);else throw Ol("Unknown operation type: "+l.type);const g=f.getChanges();return jb(n,h,g),{viewCache:h,changes:g}}function jb(s,n,l){const u=n.eventCache;if(u.isFullyInitialized()){const o=u.getNode().isLeafNode()||u.getNode().isEmpty(),f=Qc(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!u.getNode().equals(f)||!u.getNode().getPriority().equals(f.getPriority()))&&l.push(jg(Qc(n)))}}function Jg(s,n,l,u,o,f){const h=n.eventCache;if(Hu(u,l)!=null)return n;{let _,g;if(le(l))if(L(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=wi(n),T=p instanceof K?p:K.EMPTY_NODE,v=gf(u,T);_=s.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const p=Lu(u,wi(n));_=s.filter.updateFullNode(n.eventCache.getNode(),p,f)}else{const p=P(l);if(p===".priority"){L(ni(l)===1,"Can't have a priority with additional path components");const T=h.getNode();g=n.serverCache.getNode();const v=Mp(u,l,T,g);v!=null?_=s.filter.updatePriority(T,v):_=h.getNode()}else{const T=Ne(l);let v;if(h.isCompleteForChild(p)){g=n.serverCache.getNode();const E=Mp(u,l,h.getNode(),g);E!=null?v=h.getNode().getImmediateChild(p).updateChild(T,E):v=h.getNode().getImmediateChild(p)}else v=yf(u,p,n.serverCache);v!=null?_=s.filter.updateChild(h.getNode(),p,v,T,o,f):_=h.getNode()}}return Ha(n,_,h.isFullyInitialized()||le(l),s.filter.filtersNodes())}}function Bu(s,n,l,u,o,f,h,_){const g=n.serverCache;let p;const T=h?s.filter:s.filter.getIndexedFilter();if(le(l))p=T.updateFullNode(g.getNode(),u,null);else if(T.filtersNodes()&&!g.isFiltered()){const U=g.getNode().updateChild(l,u);p=T.updateFullNode(g.getNode(),U,null)}else{const U=P(l);if(!g.isCompleteForPath(l)&&ni(l)>1)return n;const H=Ne(l),oe=g.getNode().getImmediateChild(U).updateChild(H,u);U===".priority"?p=T.updatePriority(g.getNode(),oe):p=T.updateChild(g.getNode(),U,oe,H,Fg,null)}const v=kg(n,p,g.isFullyInitialized()||le(l),T.filtersNodes()),E=new vf(o,v,f);return Jg(s,v,l,o,E,_)}function Kc(s,n,l,u,o,f,h){const _=n.eventCache;let g,p;const T=new vf(o,n,f);if(le(l))p=s.filter.updateFullNode(n.eventCache.getNode(),u,h),g=Ha(n,p,!0,s.filter.filtersNodes());else{const v=P(l);if(v===".priority")p=s.filter.updatePriority(n.eventCache.getNode(),u),g=Ha(n,p,_.isFullyInitialized(),_.isFiltered());else{const E=Ne(l),U=_.getNode().getImmediateChild(v);let H;if(le(E))H=u;else{const X=T.getCompleteChild(v);X!=null?xg(E)===".priority"&&X.getChild(zg(E)).isEmpty()?H=X:H=X.updateChild(E,u):H=K.EMPTY_NODE}if(U.equals(H))g=n;else{const X=s.filter.updateChild(_.getNode(),v,H,E,T,h);g=Ha(n,X,_.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function xp(s,n){return s.eventCache.isCompleteForChild(n)}function Yb(s,n,l,u,o,f,h){let _=n;return u.foreach((g,p)=>{const T=Qe(l,g);xp(n,P(T))&&(_=Kc(s,_,T,p,o,f,h))}),u.foreach((g,p)=>{const T=Qe(l,g);xp(n,P(T))||(_=Kc(s,_,T,p,o,f,h))}),_}function wp(s,n,l){return l.foreach((u,o)=>{n=n.updateChild(u,o)}),n}function Fc(s,n,l,u,o,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,p;le(l)?p=u:p=new Me(null).setTree(l,u);const T=n.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(T.hasChild(v)){const U=n.serverCache.getNode().getImmediateChild(v),H=wp(s,U,E);g=Bu(s,g,new Te(v),H,o,f,h,_)}}),p.children.inorderTraversal((v,E)=>{const U=!n.serverCache.isCompleteForChild(v)&&E.value===null;if(!T.hasChild(v)&&!U){const H=n.serverCache.getNode().getImmediateChild(v),X=wp(s,H,E);g=Bu(s,g,new Te(v),X,o,f,h,_)}}),g}function Gb(s,n,l,u,o,f,h){if(Hu(o,l)!=null)return n;const _=n.serverCache.isFiltered(),g=n.serverCache;if(u.value!=null){if(le(l)&&g.isFullyInitialized()||g.isCompleteForPath(l))return Bu(s,n,l,g.getNode().getChild(l),o,f,_,h);if(le(l)){let p=new Me(null);return g.getNode().forEachChild(Cl,(T,v)=>{p=p.set(new Te(T),v)}),Fc(s,n,l,p,o,f,_,h)}else return n}else{let p=new Me(null);return u.foreach((T,v)=>{const E=Qe(l,T);g.isCompleteForPath(E)&&(p=p.set(T,g.getNode().getChild(E)))}),Fc(s,n,l,p,o,f,_,h)}}function kb(s,n,l,u,o){const f=n.serverCache,h=kg(n,f.getNode(),f.isFullyInitialized()||le(l),f.isFiltered());return Jg(s,h,l,u,Fg,o)}function Vb(s,n,l,u,o,f){let h;if(Hu(u,l)!=null)return n;{const _=new vf(u,n,o),g=n.eventCache.getNode();let p;if(le(l)||P(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=Lu(u,wi(n));else{const v=n.serverCache.getNode();L(v instanceof K,"serverChildren would be complete if leaf node"),T=gf(u,v)}T=T,p=s.filter.updateFullNode(g,T,f)}else{const T=P(l);let v=yf(u,T,n.serverCache);v==null&&n.serverCache.isCompleteForChild(T)&&(v=g.getImmediateChild(T)),v!=null?p=s.filter.updateChild(g,T,v,Ne(l),_,f):n.eventCache.getNode().hasChild(T)?p=s.filter.updateChild(g,T,K.EMPTY_NODE,Ne(l),_,f):p=g,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Lu(u,wi(n)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,f)))}return h=n.serverCache.isFullyInitialized()||Hu(u,de())!=null,Ha(n,p,h,s.filter.filtersNodes())}}class Qb{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,o=new hf(u.getIndex()),f=cb(u);this.processor_=Bb(f);const h=l.serverCache,_=l.eventCache,g=o.updateFullNode(K.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(K.EMPTY_NODE,_.getNode(),null),T=new xi(g,h.isFullyInitialized(),o.filtersNodes()),v=new xi(p,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=Qu(v,T),this.eventGenerator_=new gb(this.query_)}get query(){return this.query_}}function Xb(s){return s.viewCache_.serverCache.getNode()}function Zb(s,n){const l=wi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!le(n)&&!l.getImmediateChild(P(n)).isEmpty())?l.getChild(n):null}function zp(s){return s.eventRegistrations_.length===0}function Kb(s,n){s.eventRegistrations_.push(n)}function Up(s,n,l){const u=[];if(l){L(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&u.push(h)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return u}function Lp(s,n,l,u){n.type===Kt.MERGE&&n.source.queryId!==null&&(L(wi(s.viewCache_),"We should always have a full cache before handling merges"),L(Qc(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=qb(s.processor_,o,n,l,u);return Ib(s.processor_,f.viewCache),L(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Wg(s,f.changes,f.viewCache.eventCache.getNode(),null)}function Fb(s,n){const l=s.viewCache_.eventCache,u=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Le,(f,h)=>{u.push(Dl(f,h))}),l.isFullyInitialized()&&u.push(jg(l.getNode())),Wg(s,u,l.getNode(),n)}function Wg(s,n,l,u){const o=u?[u]:s.eventRegistrations_;return yb(s.eventGenerator_,n,l,o)}let Iu;class Jb{constructor(){this.views=new Map}}function Wb(s){L(!Iu,"__referenceConstructor has already been defined"),Iu=s}function $b(){return L(Iu,"Reference.ts has not been loaded"),Iu}function Pb(s){return s.views.size===0}function Sf(s,n,l,u){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return L(f!=null,"SyncTree gave us an op for an invalid query."),Lp(f,n,l,u)}else{let f=[];for(const h of s.views.values())f=f.concat(Lp(h,n,l,u));return f}}function eC(s,n,l,u,o){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let _=Lu(l,o?u:null),g=!1;_?g=!0:u instanceof K?(_=gf(l,u),g=!1):(_=K.EMPTY_NODE,g=!1);const p=Qu(new xi(_,g,!1),new xi(u,o,!1));return new Qb(n,p)}return h}function tC(s,n,l,u,o,f){const h=eC(s,n,u,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),Kb(h,l),Fb(h,l)}function nC(s,n,l,u){const o=n._queryIdentifier,f=[];let h=[];const _=ii(s);if(o==="default")for(const[g,p]of s.views.entries())h=h.concat(Up(p,l,u)),zp(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=s.views.get(o);g&&(h=h.concat(Up(g,l,u)),zp(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return _&&!ii(s)&&f.push(new($b())(n._repo,n._path)),{removed:f,events:h}}function $g(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Tl(s,n){let l=null;for(const u of s.views.values())l=l||Zb(u,n);return l}function Pg(s,n){if(n._queryParams.loadsAllData())return Xu(s);{const u=n._queryIdentifier;return s.views.get(u)}}function ey(s,n){return Pg(s,n)!=null}function ii(s){return Xu(s)!=null}function Xu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let qu;function iC(s){L(!qu,"__referenceConstructor has already been defined"),qu=s}function lC(){return L(qu,"Reference.ts has not been loaded"),qu}let aC=1;class Hp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Me(null),this.pendingWriteTree_=zb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ty(s,n,l,u,o){return bb(s.pendingWriteTree_,n,l,u,o),o?Pa(s,new Mi(Gg(),n,l)):[]}function Ri(s,n,l=!1){const u=Cb(s.pendingWriteTree_,n);if(Tb(s.pendingWriteTree_,n)){let f=new Me(null);return u.snap!=null?f=f.set(de(),!0):St(u.children,h=>{f=f.set(new Te(h),!0)}),Pa(s,new Uu(u.path,f,l))}else return[]}function Zu(s,n,l){return Pa(s,new Mi(mf(),n,l))}function sC(s,n,l){const u=Me.fromObject(l);return Pa(s,new Za(mf(),n,u))}function uC(s,n){return Pa(s,new Xa(mf(),n))}function rC(s,n,l){const u=bf(s,l);if(u){const o=Cf(u),f=o.path,h=o.queryId,_=gt(f,n),g=new Xa(_f(h),_);return Tf(s,f,g)}else return[]}function Jc(s,n,l,u,o=!1){const f=n._path,h=s.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||ey(h,n))){const g=nC(h,n,l,u);Pb(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const p=g.removed;if(_=g.events,!o){const T=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(f,(E,U)=>ii(U));if(T&&!v){const E=s.syncPointTree_.subtree(f);if(!E.isEmpty()){const U=fC(E);for(let H=0;H<U.length;++H){const X=U[H],oe=X.query,Ee=ly(s,X);s.listenProvider_.startListening(Ia(oe),ju(s,oe),Ee.hashFn,Ee.onComplete)}}}!v&&p.length>0&&!u&&(T?s.listenProvider_.stopListening(Ia(n),null):p.forEach(E=>{const U=s.queryToTagMap.get(Ku(E));s.listenProvider_.stopListening(Ia(E),U)}))}hC(s,p)}return _}function oC(s,n,l,u){const o=bf(s,u);if(o!=null){const f=Cf(o),h=f.path,_=f.queryId,g=gt(h,n),p=new Mi(_f(_),g,l);return Tf(s,h,p)}else return[]}function cC(s,n,l,u){const o=bf(s,u);if(o){const f=Cf(o),h=f.path,_=f.queryId,g=gt(h,n),p=Me.fromObject(l),T=new Za(_f(_),g,p);return Tf(s,h,T)}else return[]}function Bp(s,n,l,u=!1){const o=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,U)=>{const H=gt(E,o);f=f||Tl(U,H),h=h||ii(U)});let _=s.syncPointTree_.get(o);_?(h=h||ii(_),f=f||Tl(_,de())):(_=new Jb,s.syncPointTree_=s.syncPointTree_.set(o,_));let g;f!=null?g=!0:(g=!1,f=K.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((U,H)=>{const X=Tl(H,de());X&&(f=f.updateImmediateChild(U,X))}));const p=ey(_,n);if(!p&&!n._queryParams.loadsAllData()){const E=Ku(n);L(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const U=dC();s.queryToTagMap.set(E,U),s.tagToQueryMap.set(U,E)}const T=pf(s.pendingWriteTree_,o);let v=tC(_,n,l,T,f,g);if(!p&&!h&&!u){const E=Pg(_,n);v=v.concat(mC(s,n,E))}return v}function Ef(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,_)=>{const g=gt(h,n),p=Tl(_,g);if(p)return p});return Xg(o,n,f,l,!0)}function Pa(s,n){return ny(n,s.syncPointTree_,null,pf(s.pendingWriteTree_,de()))}function ny(s,n,l,u){if(le(s.path))return iy(s,n,l,u);{const o=n.get(de());l==null&&o!=null&&(l=Tl(o,de()));let f=[];const h=P(s.path),_=s.operationForChild(h),g=n.children.get(h);if(g&&_){const p=l?l.getImmediateChild(h):null,T=Zg(u,h);f=f.concat(ny(_,g,p,T))}return o&&(f=f.concat(Sf(o,s,u,l))),f}}function iy(s,n,l,u){const o=n.get(de());l==null&&o!=null&&(l=Tl(o,de()));let f=[];return n.children.inorderTraversal((h,_)=>{const g=l?l.getImmediateChild(h):null,p=Zg(u,h),T=s.operationForChild(h);T&&(f=f.concat(iy(T,_,g,p)))}),o&&(f=f.concat(Sf(o,s,u,l))),f}function ly(s,n){const l=n.query,u=ju(s,l);return{hashFn:()=>(Xb(n)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return u?rC(s,l._path,u):uC(s,l._path);{const f=oE(o,l);return Jc(s,l,null,f)}}}}function ju(s,n){const l=Ku(n);return s.queryToTagMap.get(l)}function Ku(s){return s._path.toString()+"$"+s._queryIdentifier}function bf(s,n){return s.tagToQueryMap.get(n)}function Cf(s){const n=s.indexOf("$");return L(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new Te(s.substr(0,n))}}function Tf(s,n,l){const u=s.syncPointTree_.get(n);L(u,"Missing sync point for query tag that we're tracking");const o=pf(s.pendingWriteTree_,n);return Sf(u,l,o,null)}function fC(s){return s.fold((n,l,u)=>{if(l&&ii(l))return[Xu(l)];{let o=[];return l&&(o=$g(l)),St(u,(f,h)=>{o=o.concat(h)}),o}})}function Ia(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(lC())(s._repo,s._path):s}function hC(s,n){for(let l=0;l<n.length;++l){const u=n[l];if(!u._queryParams.loadsAllData()){const o=Ku(u),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function dC(){return aC++}function mC(s,n,l){const u=n._path,o=ju(s,n),f=ly(s,l),h=s.listenProvider_.startListening(Ia(n),o,f.hashFn,f.onComplete),_=s.syncPointTree_.subtree(u);if(o)L(!ii(_.value),"If we're adding a query, it shouldn't be shadowed");else{const g=_.fold((p,T,v)=>{if(!le(p)&&T&&ii(T))return[Xu(T).query];{let E=[];return T&&(E=E.concat($g(T).map(U=>U.query))),St(v,(U,H)=>{E=E.concat(H)}),E}});for(let p=0;p<g.length;++p){const T=g[p];s.listenProvider_.stopListening(Ia(T),ju(s,T))}}return h}class Af{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Af(l)}node(){return this.node_}}class Nf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Qe(this.path_,n);return new Nf(this.syncTree_,l)}node(){return Ef(this.syncTree_,this.path_)}}const _C=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Ip=function(s,n,l){if(!s||typeof s!="object")return s;if(L(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return pC(s[".sv"],n,l);if(typeof s[".sv"]=="object")return gC(s[".sv"],n);L(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},pC=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:L(!1,"Unexpected server value: "+s)}},gC=function(s,n,l){s.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const u=s.increment;typeof u!="number"&&L(!1,"Unexpected increment value: "+u);const o=n.node();if(L(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return u;const h=o.getValue();return typeof h!="number"?u:h+u},yC=function(s,n,l,u){return Df(n,new Nf(l,s),u)},ay=function(s,n,l){return Df(s,new Af(n),l)};function Df(s,n,l){const u=s.getPriority().val(),o=Ip(u,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,_=Ip(h.getValue(),n,l);return _!==h.getValue()||o!==h.getPriority().val()?new Ke(_,nt(o)):s}else{const h=s;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new Ke(o))),h.forEachChild(Le,(_,g)=>{const p=Df(g,n.getImmediateChild(_),l);p!==g&&(f=f.updateImmediateChild(_,p))}),f}}class Rf{constructor(n="",l=null,u={children:{},childCount:0}){this.name=n,this.parent=l,this.node=u}}function Of(s,n){let l=n instanceof Te?n:new Te(n),u=s,o=P(l);for(;o!==null;){const f=Al(u.node.children,o)||{children:{},childCount:0};u=new Rf(o,u,f),l=Ne(l),o=P(l)}return u}function zl(s){return s.node.value}function sy(s,n){s.node.value=n,Wc(s)}function uy(s){return s.node.childCount>0}function vC(s){return zl(s)===void 0&&!uy(s)}function Fu(s,n){St(s.node.children,(l,u)=>{n(new Rf(l,s,u))})}function ry(s,n,l,u){l&&n(s),Fu(s,o=>{ry(o,n,!0)})}function SC(s,n,l){let u=s.parent;for(;u!==null;){if(n(u))return!0;u=u.parent}return!1}function es(s){return new Te(s.parent===null?s.name:es(s.parent)+"/"+s.name)}function Wc(s){s.parent!==null&&EC(s.parent,s.name,s)}function EC(s,n,l){const u=vC(l),o=Dn(s.node.children,n);u&&o?(delete s.node.children[n],s.node.childCount--,Wc(s)):!u&&!o&&(s.node.children[n]=l.node,s.node.childCount++,Wc(s))}const bC=/[\[\].#$\/\u0000-\u001F\u007F]/,CC=/[\[\].#$\u0000-\u001F\u007F]/,wc=10*1024*1024,oy=function(s){return typeof s=="string"&&s.length!==0&&!bC.test(s)},cy=function(s){return typeof s=="string"&&s.length!==0&&!CC.test(s)},TC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),cy(s)},fy=function(s,n,l,u){u&&n===void 0||Mf(nf(s,"value"),n,l)},Mf=function(s,n,l){const u=l instanceof Te?new GE(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Ni(u));if(typeof n=="function")throw new Error(s+"contains a function "+Ni(u)+" with contents = "+n.toString());if(cg(n))throw new Error(s+"contains "+n.toString()+" "+Ni(u));if(typeof n=="string"&&n.length>wc/3&&ku(n)>wc)throw new Error(s+"contains a string greater than "+wc+" utf8 bytes "+Ni(u)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(St(n,(h,_)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!oy(h)))throw new Error(s+" contains an invalid key ("+h+") "+Ni(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kE(u,h),Mf(s,_,u),VE(u)}),o&&f)throw new Error(s+' contains ".value" child '+Ni(u)+" in addition to actual children.")}},hy=function(s,n,l,u){if(!cy(l))throw new Error(nf(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AC=function(s,n,l,u){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),hy(s,n,l)},dy=function(s,n){if(P(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},NC=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!oy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!TC(l))throw new Error(nf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class DC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xf(s,n){let l=null;for(let u=0;u<n.length;u++){const o=n[u],f=o.getPath();l!==null&&!of(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function my(s,n,l){xf(s,l),_y(s,u=>of(u,n))}function Nn(s,n,l){xf(s,l),_y(s,u=>Zt(u,n)||Zt(n,u))}function _y(s,n){s.recursionDepth_++;let l=!0;for(let u=0;u<s.eventLists_.length;u++){const o=s.eventLists_[u];if(o){const f=o.path;n(f)?(RC(s.eventLists_[u]),s.eventLists_[u]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function RC(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const u=l.getEventRunner();Ua&&at("event: "+l.toString()),wl(u)}}}const OC="repo_interrupt",MC=25;class xC{constructor(n,l,u,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=u,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zu(),this.transactionQueueTree_=new Rf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wC(s,n,l){if(s.stats_=uf(s.repoInfo_),s.forceRestClient_||dE())s.server_=new wu(s.repoInfo_,(u,o,f,h)=>{qp(s,u,o,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>jp(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(l)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}s.persistentConnection_=new Cn(s.repoInfo_,n,(u,o,f,h)=>{qp(s,u,o,f,h)},u=>{jp(s,u)},u=>{zC(s,u)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(u=>{s.server_.refreshAuthToken(u)}),s.appCheckProvider_.addTokenChangeListener(u=>{s.server_.refreshAppCheckToken(u.token)}),s.statsReporter_=yE(s.repoInfo_,()=>new pb(s.stats_,s.server_)),s.infoData_=new fb,s.infoSyncTree_=new Hp({startListening:(u,o,f,h)=>{let _=[];const g=s.infoData_.getNode(u._path);return g.isEmpty()||(_=Zu(s.infoSyncTree_,u._path,g),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),zf(s,"connected",!1),s.serverSyncTree_=new Hp({startListening:(u,o,f,h)=>(s.server_.listen(u,f,o,(_,g)=>{const p=h(_,g);Nn(s.eventQueue_,u._path,p)}),[]),stopListening:(u,o)=>{s.server_.unlisten(u,o)}})}function py(s){const l=s.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function wf(s){return _C({timestamp:py(s)})}function qp(s,n,l,u,o){s.dataUpdateCount++;const f=new Te(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(u){const g=Au(l,p=>nt(p));h=cC(s.serverSyncTree_,f,g,o)}else{const g=nt(l);h=oC(s.serverSyncTree_,f,g,o)}else if(u){const g=Au(l,p=>nt(p));h=sC(s.serverSyncTree_,f,g)}else{const g=nt(l);h=Zu(s.serverSyncTree_,f,g)}let _=f;h.length>0&&(_=Ju(s,f)),Nn(s.eventQueue_,_,h)}function jp(s,n){zf(s,"connected",n),n===!1&&LC(s)}function zC(s,n){St(n,(l,u)=>{zf(s,l,u)})}function zf(s,n,l){const u=new Te("/.info/"+n),o=nt(l);s.infoData_.updateSnapshot(u,o);const f=Zu(s.infoSyncTree_,u,o);Nn(s.eventQueue_,u,f)}function gy(s){return s.nextWriteId_++}function UC(s,n,l,u,o){Uf(s,"set",{path:n.toString(),value:l,priority:u});const f=wf(s),h=nt(l,u),_=Ef(s.serverSyncTree_,n),g=ay(h,_,f),p=gy(s),T=ty(s.serverSyncTree_,n,g,p,!0);xf(s.eventQueue_,T),s.server_.put(n.toString(),h.val(!0),(E,U)=>{const H=E==="ok";H||vt("set at "+n+" failed: "+E);const X=Ri(s.serverSyncTree_,p,!H);Nn(s.eventQueue_,n,X),qC(s,o,E,U)});const v=by(s,n);Ju(s,v),Nn(s.eventQueue_,v,[])}function LC(s){Uf(s,"onDisconnectEvents");const n=wf(s),l=zu();Vc(s.onDisconnect_,de(),(o,f)=>{const h=yC(o,f,s.serverSyncTree_,n);Yg(l,o,h)});let u=[];Vc(l,de(),(o,f)=>{u=u.concat(Zu(s.serverSyncTree_,o,f));const h=by(s,o);Ju(s,h)}),s.onDisconnect_=zu(),Nn(s.eventQueue_,de(),u)}function HC(s,n,l){let u;P(n._path)===".info"?u=Bp(s.infoSyncTree_,n,l):u=Bp(s.serverSyncTree_,n,l),my(s.eventQueue_,n._path,u)}function BC(s,n,l){let u;P(n._path)===".info"?u=Jc(s.infoSyncTree_,n,l):u=Jc(s.serverSyncTree_,n,l),my(s.eventQueue_,n._path,u)}function IC(s){s.persistentConnection_&&s.persistentConnection_.interrupt(OC)}function Uf(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),at(l,...n)}function qC(s,n,l,u){n&&wl(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;u&&(f+=": "+u);const h=new Error(f);h.code=o,n(h)}})}function yy(s,n,l){return Ef(s.serverSyncTree_,n,l)||K.EMPTY_NODE}function Lf(s,n=s.transactionQueueTree_){if(n||Wu(s,n),zl(n)){const l=Sy(s,n);L(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&jC(s,es(n),l)}else uy(n)&&Fu(n,l=>{Lf(s,l)})}function jC(s,n,l){const u=l.map(p=>p.currentWriteId),o=yy(s,n,u);let f=o;const h=o.hash();for(let p=0;p<l.length;p++){const T=l[p];L(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const v=gt(n,T.path);f=f.updateChild(v,T.currentOutputSnapshotRaw)}const _=f.val(!0),g=n;s.server_.put(g.toString(),_,p=>{Uf(s,"transaction put response",{path:g.toString(),status:p});let T=[];if(p==="ok"){const v=[];for(let E=0;E<l.length;E++)l[E].status=2,T=T.concat(Ri(s.serverSyncTree_,l[E].currentWriteId)),l[E].onComplete&&v.push(()=>l[E].onComplete(null,!0,l[E].currentOutputSnapshotResolved)),l[E].unwatcher();Wu(s,Of(s.transactionQueueTree_,n)),Lf(s,s.transactionQueueTree_),Nn(s.eventQueue_,n,T);for(let E=0;E<v.length;E++)wl(v[E])}else{if(p==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{vt("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=p}Ju(s,n)}},h)}function Ju(s,n){const l=vy(s,n),u=es(l),o=Sy(s,l);return YC(s,o,u),u}function YC(s,n,l){if(n.length===0)return;const u=[];let o=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const g=n[_],p=gt(l,g.path);let T=!1,v;if(L(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)T=!0,v=g.abortReason,o=o.concat(Ri(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=MC)T=!0,v="maxretry",o=o.concat(Ri(s.serverSyncTree_,g.currentWriteId,!0));else{const E=yy(s,g.path,h);g.currentInputSnapshot=E;const U=n[_].update(E.val());if(U!==void 0){Mf("transaction failed: Data returned ",U,g.path);let H=nt(U);typeof U=="object"&&U!=null&&Dn(U,".priority")||(H=H.updatePriority(E.getPriority()));const oe=g.currentWriteId,Ee=wf(s),He=ay(H,E,Ee);g.currentOutputSnapshotRaw=H,g.currentOutputSnapshotResolved=He,g.currentWriteId=gy(s),h.splice(h.indexOf(oe),1),o=o.concat(ty(s.serverSyncTree_,g.path,He,g.currentWriteId,g.applyLocally)),o=o.concat(Ri(s.serverSyncTree_,oe,!0))}else T=!0,v="nodata",o=o.concat(Ri(s.serverSyncTree_,g.currentWriteId,!0))}Nn(s.eventQueue_,l,o),o=[],T&&(n[_].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(v==="nodata"?u.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):u.push(()=>n[_].onComplete(new Error(v),!1,null))))}Wu(s,s.transactionQueueTree_);for(let _=0;_<u.length;_++)wl(u[_]);Lf(s,s.transactionQueueTree_)}function vy(s,n){let l,u=s.transactionQueueTree_;for(l=P(n);l!==null&&zl(u)===void 0;)u=Of(u,l),n=Ne(n),l=P(n);return u}function Sy(s,n){const l=[];return Ey(s,n,l),l.sort((u,o)=>u.order-o.order),l}function Ey(s,n,l){const u=zl(n);if(u)for(let o=0;o<u.length;o++)l.push(u[o]);Fu(n,o=>{Ey(s,o,l)})}function Wu(s,n){const l=zl(n);if(l){let u=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[u]=l[o],u++);l.length=u,sy(n,l.length>0?l:void 0)}Fu(n,u=>{Wu(s,u)})}function by(s,n){const l=es(vy(s,n)),u=Of(s.transactionQueueTree_,n);return SC(u,o=>{zc(s,o)}),zc(s,u),ry(u,o=>{zc(s,o)}),l}function zc(s,n){const l=zl(n);if(l){const u=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(L(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(L(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(Ri(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&u.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?sy(n,void 0):l.length=f+1,Nn(s.eventQueue_,es(n),o);for(let h=0;h<u.length;h++)wl(u[h])}}function GC(s){let n="";const l=s.split("/");for(let u=0;u<l.length;u++)if(l[u].length>0){let o=l[u];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function kC(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const u=l.split("=");u.length===2?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):vt(`Invalid query segment '${l}' in query '${s}'`)}return n}const Yp=function(s,n){const l=VC(s),u=l.namespace;l.domain==="firebase.com"&&An(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&l.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||lE();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new bg(l.host,l.secure,u,o,n,"",u!==l.subdomain),path:new Te(l.pathString)}},VC=function(s){let n="",l="",u="",o="",f="",h=!0,_="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(_=s.substring(0,p-1),s=s.substring(p+2));let T=s.indexOf("/");T===-1&&(T=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),n=s.substring(0,Math.min(T,v)),T<v&&(o=GC(s.substring(T,v)));const E=kC(s.substring(Math.min(s.length,v)));p=n.indexOf(":"),p>=0?(h=_==="https"||_==="wss",g=parseInt(n.substring(p+1),10)):p=n.length;const U=n.slice(0,p);if(U.toLowerCase()==="localhost")l="localhost";else if(U.split(".").length<=2)l=U;else{const H=n.indexOf(".");u=n.substring(0,H).toLowerCase(),l=n.substring(H+1),f=u}"ns"in E&&(f=E.ns)}return{host:n,port:g,domain:l,subdomain:u,secure:h,scheme:_,pathString:o,namespace:f}};const Gp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QC=(function(){let s=0;const n=[];return function(l){const u=l===s;s=l;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Gp.charAt(l%64),l=Math.floor(l/64);L(l===0,"Cannot push at time == 0");let h=f.join("");if(u){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Gp.charAt(n[o]);return L(h.length===20,"nextPushId: Length should be 20."),h}})();class XC{constructor(n,l,u,o){this.eventType=n,this.eventRegistration=l,this.snapshot=u,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class ZC{constructor(n,l,u){this.eventRegistration=n,this.error=l,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KC{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Hf{constructor(n,l,u,o){this._repo=n,this._path=l,this._queryParams=u,this._orderByCalled=o}get key(){return le(this._path)?null:xg(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const n=Ap(this._queryParams),l=af(n);return l==="{}"?"default":l}get _queryObject(){return Ap(this._queryParams)}isEqual(n){if(n=Ml(n),!(n instanceof Hf))return!1;const l=this._repo===n._repo,u=of(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&u&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+YE(this._path)}}class li extends Hf{constructor(n,l){super(n,l,new df,!1)}get parent(){const n=zg(this._path);return n===null?null:new li(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Yu{constructor(n,l,u){this._node=n,this.ref=l,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Te(n),u=Ka(this.ref,n);return new Yu(this._node.getChild(l),u,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,o)=>n(new Yu(o,Ka(this.ref,u),Le)))}hasChild(n){const l=new Te(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Eu(s,n){return s=Ml(s),s._checkNotDeleted("ref"),n!==void 0?Ka(s._root,n):s._root}function Ka(s,n){return s=Ml(s),P(s._path)===null?AC("child","path",n):hy("child","path",n),new li(s._repo,Qe(s._path,n))}function FC(s,n){s=Ml(s),dy("push",s._path),fy("push",n,s._path,!0);const l=py(s._repo),u=QC(l),o=Ka(s,u),f=Ka(s,u);let h;return h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function Uc(s,n){s=Ml(s),dy("set",s._path),fy("set",n,s._path,!1);const l=new Gu;return UC(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}class Bf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const u=l._queryParams.getIndex();return new XC("value",this,new Yu(n.snapshotNode,new li(l._repo,l._path),u))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new ZC(this,n,l):null}matches(n){return n instanceof Bf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function JC(s,n,l,u,o){const f=new KC(l,void 0),h=new Bf(f);return HC(s._repo,s,h),()=>BC(s._repo,s,h)}function WC(s,n,l,u){return JC(s,"value",n)}Wb(li);iC(li);const $C="FIREBASE_DATABASE_EMULATOR_HOST",$c={};let PC=!1;function eT(s,n,l,u){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=tf(f);s.repoInfo_=new bg(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),u&&(s.authTokenProvider_=u)}function tT(s,n,l,u,o){let f=u||s.options.databaseURL;f===void 0&&(s.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Yp(f,o),_=h.repoInfo,g;typeof process<"u"&&up&&(g=up[$C]),g?(f=`http://${g}?ns=${_.namespace}`,h=Yp(f,o),_=h.repoInfo):h.repoInfo.secure;const p=new _E(s.name,s.options,n);NC("Invalid Firebase Database URL",h),le(h.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");const T=iT(_,s,p,new mE(s,l));return new lT(T,s)}function nT(s,n){const l=$c[n];(!l||l[s.key]!==s)&&An(`Database ${n}(${s.repoInfo_}) has already been deleted.`),IC(s),delete l[s.key]}function iT(s,n,l,u){let o=$c[n.name];o||(o={},$c[n.name]=o);let f=o[s.toURLString()];return f&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new xC(s,PC,l,u),o[s.toURLString()]=f,f}class lT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&An("Cannot call "+n+" on a deleted database.")}}function aT(s=qS(),n){const l=US(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const u=v1("database");u&&sT(l,...u)}return l}function sT(s,n,l,u={}){s=Ml(s),s._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Nu(u,f.repoInfo_.emulatorOptions))return;An("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Cu(Cu.OWNER);else if(u.mockUserToken){const _=typeof u.mockUserToken=="string"?u.mockUserToken:E1(u.mockUserToken,s.app.options.projectId);h=new Cu(_)}tf(n)&&(S1(n),T1("Database",!0)),eT(f,o,u,h)}function uT(s){$S(IS),Ru(new ja("database",(n,{instanceIdentifier:l})=>{const u=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return tT(u,o,f,l)},"PUBLIC").setMultipleInstances(!0)),El(rp,op,s),El(rp,op,"esm2020")}Cn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Cn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};uT();const rT={apiKey:"AIzaSyA2f7Jfh1XuXmNwE9-HtXuAcYad7zEKK34",authDomain:"library-58afc.firebaseapp.com",databaseURL:"https://library-58afc-default-rtdb.firebaseio.com",projectId:"library-58afc",storageBucket:"library-58afc.appspot.com",messagingSenderId:"396494765245",appId:"1:396494765245:web:c01f20045daf9aca084bd4"},oT=lg(rT),bu=aT(oT);function cT(){const[s,n]=Ue.useState([]),[l,u]=Ue.useState(""),[o,f]=Ue.useState([]);Ue.useEffect(()=>{const v=Eu(bu,"books"),E=WC(v,U=>{const H=U.val()||{},X=Object.entries(H).map(([oe,Ee])=>({id:oe,...Ee}));n(X)});return()=>E()},[]);const h=v=>{const E=Eu(bu,"books");if(v.id)Uc(Eu(bu,`books/${v.id}`),{title:v.title,tags:v.tags,studentId:v.studentId||""});else{const U=FC(E);Uc(U,{title:v.title,tags:v.tags,studentId:v.studentId||""})}},_=v=>{Uc(Eu(bu,`books/${v}`),null)},g=v=>u(v),p=v=>f(v);return{books:Ue.useMemo(()=>s.filter(v=>{const E=v.title.toLowerCase().includes(l.toLowerCase()),U=o.length===0||o.every(H=>v.tags.includes(H));return E&&U}),[s,l,o]),query:l,filterTags:o,search:g,filterByTags:p,saveBook:h,deleteBook:_}}function fT({userRole:s="user"}){const{books:n,query:l,filterTags:u,search:o,filterByTags:f,saveBook:h,deleteBook:_}=cT(),[g,p]=Ue.useState(null),[T,v]=Ue.useState(!1),E=()=>{p({title:"",tags:[],studentId:""}),v(!0)},U=G=>{p(G),v(!0)},H=G=>{h(G),v(!1)},X=G=>{G&&!u.includes(G)&&f([...u,G])},oe=G=>{f(u.filter(De=>De!==G))},Ee=Ue.useMemo(()=>Array.from(new Set(n.flatMap(G=>G.tags))),[n]),He=n.filter(G=>{const De=G.title.toLowerCase().includes(l.toLowerCase()),xt=u.every(it=>G.tags.includes(it));return De&&xt});return V.jsxs("div",{className:"p-4",children:[V.jsxs("div",{className:"flex gap-2 mb-4",children:[V.jsx("input",{type:"text",placeholder:"",value:l,onChange:G=>o(G.target.value),className:"flex-1 border rounded px-2 py-1"}),s==="admin"&&V.jsx("button",{className:"px-3 py-1 bg-green-100 rounded border",onClick:E,children:""})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block mb-1 text-sm",children:""}),V.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Ee.map(G=>{const De=u.includes(G);return V.jsx("button",{className:`px-2 py-1 rounded border ${De?"bg-blue-400 text-white":"bg-gray-100"}`,onClick:()=>{De?oe(G):X(G)},children:G},G)})}),V.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(G=>V.jsxs("span",{className:"px-2 py-1 bg-blue-200 rounded cursor-pointer",onClick:()=>oe(G),children:[G," "]},G))})]}),V.jsxs("div",{className:"grid gap-2",children:[He.map(G=>V.jsx(u1,{book:G,onToggleLoan:De=>h(De),onEdit:s==="admin"?()=>U(G):void 0,onDelete:s==="admin"?()=>_(G.id):void 0},G.id)),He.length===0&&V.jsx("p",{className:"text-gray-400",children:""})]}),s==="admin"&&V.jsx(r1,{isOpen:T,book:g,onClose:()=>v(!1),onSave:H})]})}const hT=[{title:"JavaScript",tags:["","JS"],studentId:""},{title:"React",tags:["","React"],studentId:""},{title:"",tags:["","OOP"],studentId:""}];function dT(){if(!localStorage.getItem("booksData")){const n=hT.map(l=>({...l,id:Date.now().toString()+Math.random()}));localStorage.setItem("booksData",JSON.stringify(n))}const s={main:{username:"admin",password:"cacadmin",role:"admin"},user1:{username:"cac",password:"ksucac2025",role:"user"}};localStorage.getItem("authData")||localStorage.setItem("authData",JSON.stringify(s))}function mT(){const{role:s}=Qp();return s?V.jsx(fT,{userRole:s}):V.jsx(s1,{})}function _T(){return Ue.useEffect(()=>{dT()},[]),V.jsx(l1,{children:V.jsx(mT,{})})}i1.createRoot(document.getElementById("root")).render(V.jsx(F0.StrictMode,{children:V.jsx(_T,{})}));
